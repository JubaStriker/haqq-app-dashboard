{"ast":null,"code":"var _jsxFileName = \"/Users/jithendra/Desktop/Work/meta-soft-xrp/xrp-shopify-coupon-client/src/routes/settings/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useContext, useState } from \"react\";\nimport { Box, Heading, ButtonGroup, Text, Button, Container, useToast, Code, Divider, Input, FormControl, FormLabel, FormErrorMessage } from \"@chakra-ui/react\";\nimport useScriptsStore from \"../../store/scripts\";\nimport { ShopContext } from \"../../context\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport NavBar from \"../../components/navbar\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport WAValidator from \"multicoin-address-validator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SettingsRoute = () => {\n  _s();\n\n  const shop = useContext(ShopContext);\n  const scripts = useScriptsStore(state => state.scripts);\n  const postScripts = useScriptsStore(state => state.postScripts);\n  const getScripts = useScriptsStore(state => state.getScripts);\n  const destroyScripts = useScriptsStore(state => state.destroyScripts);\n  const toast = useToast();\n  const [validXrp, setValidXrp] = useState(\"\");\n  const [isValid, setIsValid] = useState('Please enter valid XRP address');\n  useEffect(() => {\n    getScripts(shop);\n  }, []);\n\n  const validateAddress = () => {\n    const valid = WAValidator.validate(validXrp, \"ripple\");\n\n    if (valid === true) {\n      console.log('Its Valid');\n      setIsValid( /*#__PURE__*/_jsxDEV(Text, {\n        children: \"Its Valid XRP Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 18\n      }, this));\n    } else {\n      console.log('Its Invalid');\n      setIsValid( /*#__PURE__*/_jsxDEV(Text, {\n        children: \"Please Check the XRP Address You entered\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 18\n      }, this));\n    }\n  };\n\n  const enableWidget = async () => {\n    try {\n      await postScripts(shop);\n      toast({\n        title: `Widget added successfully! Please visit your online store after 30 seconds to check the widget.`,\n        status: \"success\"\n      });\n      getScripts(shop);\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: \"error\"\n      });\n    }\n  };\n\n  const Basic = () => {\n    function validateName(value) {\n      let error;\n\n      if (!value) {\n        error = 'Name is required';\n      } else if (value.toLowerCase() !== 'naruto') {\n        error = \"Jeez! You're not a fan ðŸ˜±\";\n      }\n\n      return error;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        name: 'Sasuke'\n      },\n      onSubmit: (values, actions) => {\n        setTimeout(() => {\n          alert(JSON.stringify(values, null, 2));\n          actions.setSubmitting(false);\n        }, 1000);\n      },\n      children: props => /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          name: \"name\",\n          validate: validateName,\n          children: _ref => {\n            let {\n              field,\n              form\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(FormControl, {\n              isInvalid: form.errors.name && form.touched.name,\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                children: \"First name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Input, { ...field,\n                placeholder: \"name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(FormErrorMessage, {\n                children: form.errors.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          mt: 4,\n          colorScheme: \"teal\",\n          isLoading: props.isSubmitting,\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  };\n\n  const disableWidget = async () => {\n    try {\n      await destroyScripts(shop);\n      toast({\n        title: `Widget removed successfully!`,\n        status: \"success\"\n      });\n      getScripts(shop);\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: \"error\"\n      });\n    }\n  };\n\n  const renderButton = () => {\n    if (scripts.get.loading) {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"gray\",\n        isLoading: true,\n        isDisabled: true,\n        children: \"Loading ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this);\n    } else if (scripts.get.success.data.length) {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        isLoading: scripts.destroy.loading || scripts.get.loading,\n        fontWeight: \"bold\",\n        size: \"lg\",\n        colorScheme: \"red\",\n        onClick: disableWidget,\n        children: \"Remove Widget From Your Store\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        isLoading: scripts.post.loading || scripts.get.loading,\n        fontWeight: \"bold\",\n        size: \"lg\",\n        colorScheme: \"blue\",\n        onClick: enableWidget,\n        children: \"Add Widget To Your Store\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxW: \"7xl\",\n      p: \"12\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        as: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          maxW: \"2xl\",\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            size: \"md\",\n            children: \"Enter Your XRP address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            placeholder: \"XRP Address\",\n            onChange: e => setValidXrp(e.target.value),\n            margin: \"20px 0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), isValid, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            mt: 4,\n            colorScheme: \"teal\",\n            onClick: validateAddress,\n            children: \"Validate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Basic, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          maxW: \"2xl\",\n          mx: \"auto\",\n          px: {\n            base: \"6\",\n            lg: \"8\"\n          },\n          py: {\n            base: \"16\",\n            sm: \"20\"\n          },\n          textAlign: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            size: \"3xl\",\n            fontWeight: \"extrabold\",\n            letterSpacing: \"tight\",\n            children: \"Widget embed settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            mt: \"4\",\n            fontSize: \"lg\",\n            children: \"Enable or disable \\\"Shop the look\\\" widget on your store. The widget gets appended to the bottom of your store page above the footer on the home page.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n            mt: \"8\",\n            variant: \"outline\",\n            spacing: \"6\",\n            children: renderButton()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            mt: \"4\",\n            fontSize: \"lg\",\n            children: \"NOTE: If you want the widget only on certain pages or only in certain positions please add the following html tag to custom liquid or custom html section.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Code, {\n            children: `<div id=\"frangout-shop-look-app\"> </div>`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SettingsRoute, \"UWzWeVflTV1TsjsaUK40kmkapEg=\", false, function () {\n  return [useScriptsStore, useScriptsStore, useScriptsStore, useScriptsStore, useToast];\n});\n\n_c = SettingsRoute;\nexport default SettingsRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"SettingsRoute\");","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/meta-soft-xrp/xrp-shopify-coupon-client/src/routes/settings/index.js"],"names":["useEffect","useContext","useState","Box","Heading","ButtonGroup","Text","Button","Container","useToast","Code","Divider","Input","FormControl","FormLabel","FormErrorMessage","useScriptsStore","ShopContext","INTERNAL_SERVER_ERROR","NavBar","Formik","Form","Field","ErrorMessage","WAValidator","SettingsRoute","shop","scripts","state","postScripts","getScripts","destroyScripts","toast","validXrp","setValidXrp","isValid","setIsValid","validateAddress","valid","validate","console","log","enableWidget","title","status","e","message","Basic","validateName","value","error","toLowerCase","name","values","actions","setTimeout","alert","JSON","stringify","setSubmitting","props","field","form","errors","touched","isSubmitting","disableWidget","renderButton","get","loading","success","data","length","destroy","post","target","base","lg","sm"],"mappings":"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","sourcesContent":["import { useEffect, useContext, useState } from \"react\";\nimport {\n  Box,\n  Heading,\n  ButtonGroup,\n  Text,\n  Button,\n  Container,\n  useToast,\n  Code,\n  Divider,\n  Input,\n  FormControl,\n  FormLabel,\n  FormErrorMessage\n} from \"@chakra-ui/react\";\nimport useScriptsStore from \"../../store/scripts\";\nimport { ShopContext } from \"../../context\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport NavBar from \"../../components/navbar\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\n\nimport WAValidator from \"multicoin-address-validator\";\n\nconst SettingsRoute = () => {\n  const shop = useContext(ShopContext);\n  const scripts = useScriptsStore((state) => state.scripts);\n  const postScripts = useScriptsStore((state) => state.postScripts);\n  const getScripts = useScriptsStore((state) => state.getScripts);\n  const destroyScripts = useScriptsStore((state) => state.destroyScripts);\n  const toast = useToast();\n  const [validXrp, setValidXrp] = useState(\"\");\n  const [isValid, setIsValid] = useState('Please enter valid XRP address');\n  useEffect(() => {\n    getScripts(shop);\n  }, []);\n   \n  const validateAddress = () => {\n    const valid = WAValidator.validate(validXrp, \"ripple\");\n    if(valid === true){\n      console.log('Its Valid');\n      setIsValid(<Text>Its Valid XRP Address</Text>);\n    }else{\n      console.log('Its Invalid');\n      setIsValid(<Text>Please Check the XRP Address You entered</Text>);\n    }\n};\n  \n\n  const enableWidget = async () => {\n    try {\n      await postScripts(shop);\n      toast({\n        title: `Widget added successfully! Please visit your online store after 30 seconds to check the widget.`,\n        status: \"success\",\n      });\n      getScripts(shop);\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: \"error\",\n      });\n    }\n  };\n\n  const Basic = () => {\n    function validateName(value) {\n      let error\n      if (!value) {\n        error = 'Name is required'\n      } else if (value.toLowerCase() !== 'naruto') {\n        error = \"Jeez! You're not a fan ðŸ˜±\"\n      }\n      return error\n    }\n    return (\n      <Formik\n        initialValues={{ name: 'Sasuke' }}\n        onSubmit={(values, actions) => {\n          setTimeout(() => {\n            alert(JSON.stringify(values, null, 2))\n            actions.setSubmitting(false)\n          }, 1000)\n        }}\n      >\n        {(props) => (\n          <Form>\n            <Field name='name' validate={validateName}>\n              {({ field, form }) => (\n                <FormControl isInvalid={form.errors.name && form.touched.name}>\n                  <FormLabel>First name</FormLabel>\n                  <Input {...field} placeholder='name' />\n                  <FormErrorMessage>{form.errors.name}</FormErrorMessage>\n                </FormControl>\n              )}\n            </Field>\n            <Button\n              mt={4}\n              colorScheme='teal'\n              isLoading={props.isSubmitting}\n              type='submit'\n            >\n              Submit\n            </Button>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  const disableWidget = async () => {\n    try {\n      await destroyScripts(shop);\n      toast({\n        title: `Widget removed successfully!`,\n        status: \"success\",\n      });\n      getScripts(shop);\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: \"error\",\n      });\n    }\n  };\n\n  const renderButton = () => {\n    if (scripts.get.loading) {\n      return (\n        <Button colorScheme=\"gray\" isLoading isDisabled>\n          Loading ...\n        </Button>\n      );\n    } else if (scripts.get.success.data.length) {\n      return (\n        <Button\n          isLoading={scripts.destroy.loading || scripts.get.loading}\n          fontWeight=\"bold\"\n          size=\"lg\"\n          colorScheme=\"red\"\n          onClick={disableWidget}\n        >\n          Remove Widget From Your Store\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          isLoading={scripts.post.loading || scripts.get.loading}\n          fontWeight=\"bold\"\n          size=\"lg\"\n          colorScheme=\"blue\"\n          onClick={enableWidget}\n        >\n          Add Widget To Your Store\n        </Button>\n      );\n    }\n  };\n\n  return (\n    <>\n      <NavBar />\n      <Container maxW={\"7xl\"} p=\"12\">\n        <Box as=\"section\">\n          <Box maxW=\"2xl\">\n            <Heading size=\"md\">Enter Your XRP address</Heading>\n            <Input\n              type=\"text\"\n              placeholder=\"XRP Address\"\n              onChange={(e) => setValidXrp(e.target.value)}\n              margin='20px 0'\n            />\n            {isValid}<br/>\n            <Button mt={4} colorScheme='teal' onClick={validateAddress}>Validate</Button>\n            <Basic />\n          </Box>\n          <Box\n            maxW=\"2xl\"\n            mx=\"auto\"\n            px={{ base: \"6\", lg: \"8\" }}\n            py={{ base: \"16\", sm: \"20\" }}\n            textAlign=\"center\"\n          >\n            <Heading size=\"3xl\" fontWeight=\"extrabold\" letterSpacing=\"tight\">\n              Widget embed settings\n            </Heading>\n            <Text mt=\"4\" fontSize=\"lg\">\n              Enable or disable \"Shop the look\" widget on your store. The widget\n              gets appended to the bottom of your store page above the footer on\n              the home page.\n            </Text>\n            <ButtonGroup mt=\"8\" variant=\"outline\" spacing=\"6\">\n              {renderButton()}\n            </ButtonGroup>\n\n            <br />\n            <br />\n            <Divider />\n            <Text mt=\"4\" fontSize=\"lg\">\n              NOTE: If you want the widget only on certain pages or only in\n              certain positions please add the following html tag to custom\n              liquid or custom html section.\n            </Text>\n\n            <br />\n            <Code children={`<div id=\"frangout-shop-look-app\"> </div>`}></Code>\n          </Box>\n        </Box>\n      </Container>\n    </>\n  );\n};\n\nexport default SettingsRoute;\n"]},"metadata":{},"sourceType":"module"}