{"ast":null,"code":"import create from 'zustand';\nimport produce from 'immer';\nimport axios from 'axios';\nimport { INTERNAL_SERVER_ERROR } from '../../constants/strings';\nconst INITIAL_CURRENCY_EXCHANGE_SATAE = {\n  get: {\n    loading: false,\n    success: {\n      ok: false,\n      data: []\n    },\n    failure: {\n      error: false,\n      message: \"\"\n    }\n  }\n};\nconst useCurrencyExchangeStore = create(set => ({\n  currencyExchangeState: INITIAL_CURRENCY_EXCHANGE_SATAE,\n  getCurrencyExchangeState: async () => {\n    set(produce(state => ({ ...state,\n      currencyExchangeState: { ...state.currencyExchangeState,\n        get: { ...INITIAL_CURRENCY_EXCHANGE_SATAE.get,\n          loading: true\n        }\n      }\n    })));\n\n    try {\n      // const response = await axios.get('https://api.coingecko.com/api/v3/simple/price?ids=usd&vs_currencies=xrp');\n      const response = await axios.get('https://api.coinconvert.net/convert/usd/hbar?amount=1');\n      console.log(response);\n      set(produce(state => ({ ...state,\n        currencyExchangeState: { ...state.currencyExchangeState,\n          get: { ...INITIAL_CURRENCY_EXCHANGE_SATAE.get,\n            success: {\n              ok: true,\n              data: response.data.usd\n            }\n          }\n        }\n      })));\n      return response;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}));\nexport default useCurrencyExchangeStore;","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/hbar-shop/hbar-shopify-coupon-client/src/store/currency-exchage/index.js"],"names":["create","produce","axios","INTERNAL_SERVER_ERROR","INITIAL_CURRENCY_EXCHANGE_SATAE","get","loading","success","ok","data","failure","error","message","useCurrencyExchangeStore","set","currencyExchangeState","getCurrencyExchangeState","state","response","console","log","usd","e"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,SAAnB;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AAEA,MAAMC,+BAA+B,GAAG;AACpCC,EAAAA,GAAG,EAAC;AACAC,IAAAA,OAAO,EAAE,KADT;AAEJC,IAAAA,OAAO,EAAE;AACPC,MAAAA,EAAE,EAAE,KADG;AAEPC,MAAAA,IAAI,EAAE;AAFC,KAFL;AAMJC,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAE,KADA;AAEPC,MAAAA,OAAO,EAAE;AAFF;AANL;AADgC,CAAxC;AAcA,MAAMC,wBAAwB,GAAGb,MAAM,CAAEc,GAAD,KAAU;AAC9CC,EAAAA,qBAAqB,EAAEX,+BADuB;AAE9CY,EAAAA,wBAAwB,EAAE,YAAY;AAClCF,IAAAA,GAAG,CACCb,OAAO,CAAEgB,KAAD,KAAY,EAChB,GAAGA,KADa;AAEhBF,MAAAA,qBAAqB,EAAE,EACnB,GAAGE,KAAK,CAACF,qBADU;AAEnBV,QAAAA,GAAG,EAAE,EACD,GAAGD,+BAA+B,CAACC,GADlC;AAEDC,UAAAA,OAAO,EAAE;AAFR;AAFc;AAFP,KAAZ,CAAD,CADR,CAAH;;AAaA,QAAG;AACC;AACA,YAAMY,QAAQ,GAAG,MAAMhB,KAAK,CAACG,GAAN,CAAU,uDAAV,CAAvB;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAJ,MAAAA,GAAG,CACCb,OAAO,CAAEgB,KAAD,KAAY,EAChB,GAAGA,KADa;AAEhBF,QAAAA,qBAAqB,EAAE,EACnB,GAAGE,KAAK,CAACF,qBADU;AAEnBV,UAAAA,GAAG,EAAE,EACD,GAAGD,+BAA+B,CAACC,GADlC;AAEDE,YAAAA,OAAO,EAAE;AACLC,cAAAA,EAAE,EAAE,IADC;AAELC,cAAAA,IAAI,EAAES,QAAQ,CAACT,IAAT,CAAcY;AAFf;AAFR;AAFc;AAFP,OAAZ,CAAD,CADR,CAAH;AAeA,aAAOH,QAAP;AACH,KApBD,CAoBE,OAAOI,CAAP,EAAS;AACPH,MAAAA,OAAO,CAACC,GAAR,CAAYE,CAAZ;AACH;AACJ;AAvC6C,CAAV,CAAD,CAAvC;AA0CA,eAAeT,wBAAf","sourcesContent":["import create from 'zustand';\nimport produce from 'immer';\nimport axios from 'axios';\nimport { INTERNAL_SERVER_ERROR } from '../../constants/strings';\n\nconst INITIAL_CURRENCY_EXCHANGE_SATAE = {\n    get:{\n        loading: false,\n    success: {\n      ok: false,\n      data: [],\n    },\n    failure: {\n      error: false,\n      message: \"\",\n    },\n    }\n}\n\nconst useCurrencyExchangeStore = create((set) => ({\n    currencyExchangeState: INITIAL_CURRENCY_EXCHANGE_SATAE,\n    getCurrencyExchangeState: async () => {\n        set(\n            produce((state) => ({\n                ...state,\n                currencyExchangeState: {\n                    ...state.currencyExchangeState,\n                    get: {\n                        ...INITIAL_CURRENCY_EXCHANGE_SATAE.get,\n                        loading: true,\n                    }\n                }\n            }))\n        )\n\n        try{ \n            // const response = await axios.get('https://api.coingecko.com/api/v3/simple/price?ids=usd&vs_currencies=xrp');\n            const response = await axios.get('https://api.coinconvert.net/convert/usd/hbar?amount=1');\n            console.log(response);\n            set(\n                produce((state) => ({\n                    ...state,\n                    currencyExchangeState: {\n                        ...state.currencyExchangeState,\n                        get: {\n                            ...INITIAL_CURRENCY_EXCHANGE_SATAE.get,\n                            success: {\n                                ok: true,\n                                data: response.data.usd,\n                            }\n                        }\n                    }\n                }))\n            )\n            return response;\n        } catch (e){\n            console.log(e);\n        }\n    }\n}))\n\nexport default useCurrencyExchangeStore"]},"metadata":{},"sourceType":"module"}