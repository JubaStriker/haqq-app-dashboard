{"ast":null,"code":"import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nconst INITIAL_LOOKS_STATE = {\n  get: {\n    loading: false,\n    success: {\n      ok: false,\n      data: []\n    },\n    failure: {\n      error: false,\n      message: \"\"\n    }\n  },\n  post: {\n    loading: false,\n    success: {\n      ok: false,\n      data: null\n    },\n    failure: {\n      error: false,\n      message: \"\"\n    }\n  },\n  patch: {\n    loading: false,\n    success: {\n      ok: false,\n      data: null\n    },\n    failure: {\n      error: false,\n      message: \"\"\n    }\n  },\n  destroy: {\n    loading: false,\n    success: {\n      ok: false,\n      data: null\n    },\n    failure: {\n      error: false,\n      message: \"\"\n    }\n  }\n};\nconst useLooksStore = create((set, get) => ({\n  looks: INITIAL_LOOKS_STATE,\n  getLooks: async function () {\n    let {\n      id = '',\n      shop = window.lookbook.shop\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    set(produce(state => ({ ...state,\n      looks: { ...state.looks,\n        get: { ...INITIAL_LOOKS_STATE.get,\n          loading: true\n        }\n      }\n    })));\n\n    try {\n      // Parse.Cloud.run('get_looks', {\n      // \tshop, id\n      // })\n      const {\n        data\n      } = await axios.get(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_looks?shop=${shop}&id=${id}`);\n      set(produce(state => ({ ...state,\n        looks: { ...state.looks,\n          get: { ...INITIAL_LOOKS_STATE.get,\n            success: {\n              ok: true,\n              data: data\n            }\n          }\n        }\n      })));\n      return data;\n    } catch (e) {\n      console.error(e);\n\n      if (e.code === Parse.Error.INVALID_SESSION_TOKEN) {\n        Parse.User.logOut();\n      }\n\n      set(produce(state => ({ ...state,\n        looks: { ...state.looks,\n          get: { ...INITIAL_LOOKS_STATE.get,\n            failure: {\n              error: true,\n              message: e.message || INTERNAL_SERVER_ERROR\n            }\n          }\n        }\n      })));\n    }\n  },\n  postLooks: async _ref => {\n    let {\n      id,\n      shop = window.lookbook.shop,\n      name,\n      price,\n      medias,\n      products = []\n    } = _ref;\n    set(produce(state => ({ ...state,\n      looks: { ...state.looks,\n        post: { ...INITIAL_LOOKS_STATE.post,\n          loading: true\n        }\n      }\n    })));\n\n    try {\n      const {\n        data\n      } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_looks`, {\n        shop,\n        name,\n        price,\n        medias,\n        products\n      });\n      set(produce(state => ({ ...state,\n        looks: { ...state.looks,\n          post: { ...INITIAL_LOOKS_STATE.post,\n            success: {\n              ok: true,\n              data\n            }\n          }\n        }\n      })));\n      return data;\n    } catch (e) {\n      console.error(e);\n      set(produce(state => ({ ...state,\n        looks: { ...state.looks,\n          post: { ...INITIAL_LOOKS_STATE.post,\n            failure: {\n              error: true,\n              message: e.message || INTERNAL_SERVER_ERROR\n            }\n          }\n        }\n      })));\n      throw e;\n    }\n  },\n  patchLooks: async _ref2 => {\n    let {\n      id,\n      shop = window.lookbook.shop,\n      name,\n      price,\n      medias,\n      products = []\n    } = _ref2;\n    set(produce(state => ({ ...state,\n      looks: { ...state.looks,\n        patch: { ...INITIAL_LOOKS_STATE.patch,\n          loading: true\n        }\n      }\n    })));\n\n    try {\n      const {\n        data\n      } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_looks`, {\n        id,\n        shop,\n        name,\n        price,\n        medias,\n        products\n      });\n      set(produce(state => ({ ...state,\n        looks: { ...state.looks,\n          patch: { ...INITIAL_LOOKS_STATE.patch,\n            success: {\n              ok: true,\n              data\n            }\n          }\n        }\n      })));\n      return data;\n    } catch (e) {\n      set(produce(state => ({ ...state,\n        looks: { ...state.looks,\n          patch: { ...INITIAL_LOOKS_STATE.patch,\n            failure: {\n              error: true,\n              message: e.message || INTERNAL_SERVER_ERROR\n            }\n          }\n        }\n      })));\n      throw e;\n    }\n  },\n  destroyLooks: async id => {\n    set(produce(state => ({ ...state,\n      looks: { ...state.looks,\n        destroy: { ...INITIAL_LOOKS_STATE.destroy,\n          loading: true\n        }\n      }\n    })));\n\n    try {\n      const {\n        data\n      } = await axios.delete(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/destroy_looks?id=${id}`);\n      set(produce(state => ({ ...state,\n        looks: { ...state.looks,\n          destroy: { ...INITIAL_LOOKS_STATE.destroy,\n            success: {\n              ok: true,\n              data\n            }\n          }\n        }\n      })));\n      return data;\n    } catch (e) {\n      set(produce(state => ({ ...state,\n        looks: { ...state.looks,\n          destroy: { ...INITIAL_LOOKS_STATE.destroy,\n            failure: {\n              error: true,\n              message: e.message || INTERNAL_SERVER_ERROR\n            }\n          }\n        }\n      })));\n      throw e;\n    }\n  }\n}));\nexport default useLooksStore;","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/hbar-shop/hbar-shopify-coupon-client/src/store/looks/index.js"],"names":["create","axios","produce","Parse","INTERNAL_SERVER_ERROR","INITIAL_LOOKS_STATE","get","loading","success","ok","data","failure","error","message","post","patch","destroy","useLooksStore","set","looks","getLooks","id","shop","window","lookbook","state","process","env","REACT_APP_API_SHOPLOOKS_SERVER_URL","e","console","code","Error","INVALID_SESSION_TOKEN","User","logOut","postLooks","name","price","medias","products","patchLooks","destroyLooks","delete"],"mappings":"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","sourcesContent":["import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nconst INITIAL_LOOKS_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: [],\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpost: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpatch: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tdestroy: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t}\n};\n\nconst useLooksStore = create((set, get) => ({\n\tlooks: INITIAL_LOOKS_STATE,\n\tgetLooks: async({ id = '', shop = window.lookbook.shop } = {}) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\n\t\t\t// Parse.Cloud.run('get_looks', {\n\t\t\t// \tshop, id\n\t\t\t// })\n\t\t\n\t\t\tconst { data } = await axios.get(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_looks?shop=${shop}&id=${id}`);\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})));\n\t\t\treturn data;\n\t\t\t\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tif (e.code ===  Parse.Error.INVALID_SESSION_TOKEN) {\n\t\t\t\tParse.User.logOut();\n\t\t\t}\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t}\n\t},\n\tpostLooks: async ({ id, shop = window.lookbook.shop, name, price, medias, products = [] }) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tpost: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_looks`, {\n\t\t\t\tshop,\n\t\t\t\tname,\n\t\t\t\tprice,\n\t\t\t\tmedias,\n\t\t\t\tproducts,\n\t\t\t});\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tpatchLooks: async ({ id, shop = window.lookbook.shop, name, price, medias, products = [] }) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tpatch: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\t\ttry {\n\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_looks`, {\n\t\t\t\tid,\n\t\t\t\tshop,\n\t\t\t\tname,\n\t\t\t\tprice,\n\t\t\t\tmedias,\n\t\t\t\tproducts\n\t\t\t});\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpatch: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpatch: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tdestroyLooks: async (id) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tdestroy: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.delete(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/destroy_looks?id=${id}`);\n\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t}\n}));\n\nexport default useLooksStore;\n\t\n"]},"metadata":{},"sourceType":"module"}