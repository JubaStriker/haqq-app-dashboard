{"ast":null,"code":"/*-\n * ‌\n * Hedera JavaScript SDK\n * ​\n * Copyright (C) 2020 - 2022 Hedera Hashgraph, LLC\n * ​\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ‍\n */\nimport Long from \"long\";\nimport Cache from \"./Cache.js\";\n/**\n * @namespace proto\n * @typedef {import(\"@hashgraph/proto\").proto.ITimestamp} HashgraphProto.proto.ITimestamp\n */\n\nconst MAX_NS = Long.fromNumber(1000000000);\nexport default class Timestamp {\n  /**\n   * @param {Long | number} seconds\n   * @param {Long | number} nanos\n   */\n  constructor(seconds, nanos) {\n    /**\n     * @readonly\n     * @type {Long}\n     */\n    this.seconds = seconds instanceof Long ? seconds : Long.fromNumber(seconds);\n    /**\n     * @readonly\n     * @type {Long}\n     */\n\n    this.nanos = nanos instanceof Long ? nanos : Long.fromNumber(nanos);\n    Object.freeze(this);\n  }\n  /**\n   * @returns {Timestamp}\n   */\n\n\n  static generate() {\n    const jitter = Math.floor(Math.random() * 5000) + 8000;\n    const now = Date.now() - jitter;\n    const seconds = Math.floor(now / 1000) + Cache.timeDrift;\n    const nanos = Math.floor(now % 1000) * 1000000 + Math.floor(Math.random() * 1000000);\n    return new Timestamp(seconds, nanos);\n  }\n  /**\n   * @param {string | number | Date} date\n   * @returns {Timestamp}\n   */\n\n\n  static fromDate(date) {\n    let nanos;\n\n    if (typeof date === \"number\") {\n      nanos = Long.fromNumber(date);\n    } else if (typeof date === \"string\") {\n      nanos = Long.fromNumber(Date.parse(date)).mul(1000000);\n    } else if (date instanceof Date) {\n      nanos = Long.fromNumber(date.getTime()).mul(1000000);\n    } else {\n      throw new TypeError(`invalid type '${typeof date}' for 'data', expected 'Date'`);\n    }\n\n    return new Timestamp(0, 0).plusNanos(nanos);\n  }\n  /**\n   * @returns {Date}\n   */\n\n\n  toDate() {\n    return new Date(this.seconds.toInt() * 1000 + Math.floor(this.nanos.toInt() / 1000000));\n  }\n  /**\n   * @param {Long | number} nanos\n   * @returns {Timestamp}\n   */\n\n\n  plusNanos(nanos) {\n    const ns = this.nanos.add(nanos);\n    return new Timestamp(this.seconds.add(ns.div(MAX_NS)), ns.mod(MAX_NS));\n  }\n  /**\n   * @internal\n   * @returns {HashgraphProto.proto.ITimestamp}\n   */\n\n\n  _toProtobuf() {\n    return {\n      seconds: this.seconds,\n      nanos: this.nanos.toInt()\n    };\n  }\n  /**\n   * @internal\n   * @param {HashgraphProto.proto.ITimestamp} timestamp\n   * @returns {Timestamp}\n   */\n\n\n  static _fromProtobuf(timestamp) {\n    return new Timestamp(timestamp.seconds instanceof Long ? timestamp.seconds.toInt() : timestamp.seconds != null ? timestamp.seconds : 0, timestamp.nanos != null ? timestamp.nanos : 0);\n  }\n  /**\n   * @returns {string}\n   */\n\n\n  toString() {\n    return `${this.seconds.toString()}.${this.nanos.toString()}`;\n  }\n  /**\n   * @param {Timestamp} other\n   * @returns {number}\n   */\n\n\n  compare(other) {\n    const comparison = this.seconds.compare(other.seconds);\n\n    if (comparison != 0) {\n      return comparison;\n    }\n\n    return this.nanos.compare(other.nanos);\n  }\n\n}","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/hbar-shop/hbar-shopify-coupon-client/node_modules/@hashgraph/sdk/src/Timestamp.js"],"names":["Long","Cache","MAX_NS","fromNumber","Timestamp","constructor","seconds","nanos","Object","freeze","generate","jitter","Math","floor","random","now","Date","timeDrift","fromDate","date","parse","mul","getTime","TypeError","plusNanos","toDate","toInt","ns","add","div","mod","_toProtobuf","_fromProtobuf","timestamp","toString","compare","other","comparison"],"mappings":"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","sourcesContent":["/*-\n * ‌\n * Hedera JavaScript SDK\n * ​\n * Copyright (C) 2020 - 2022 Hedera Hashgraph, LLC\n * ​\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ‍\n */\n\nimport Long from \"long\";\nimport Cache from \"./Cache.js\";\n\n/**\n * @namespace proto\n * @typedef {import(\"@hashgraph/proto\").proto.ITimestamp} HashgraphProto.proto.ITimestamp\n */\n\nconst MAX_NS = Long.fromNumber(1000000000);\n\nexport default class Timestamp {\n    /**\n     * @param {Long | number} seconds\n     * @param {Long | number} nanos\n     */\n    constructor(seconds, nanos) {\n        /**\n         * @readonly\n         * @type {Long}\n         */\n        this.seconds =\n            seconds instanceof Long ? seconds : Long.fromNumber(seconds);\n\n        /**\n         * @readonly\n         * @type {Long}\n         */\n        this.nanos = nanos instanceof Long ? nanos : Long.fromNumber(nanos);\n\n        Object.freeze(this);\n    }\n\n    /**\n     * @returns {Timestamp}\n     */\n    static generate() {\n        const jitter = Math.floor(Math.random() * 5000) + 8000;\n        const now = Date.now() - jitter;\n        const seconds = Math.floor(now / 1000) + Cache.timeDrift;\n        const nanos =\n            Math.floor(now % 1000) * 1000000 +\n            Math.floor(Math.random() * 1000000);\n\n        return new Timestamp(seconds, nanos);\n    }\n\n    /**\n     * @param {string | number | Date} date\n     * @returns {Timestamp}\n     */\n    static fromDate(date) {\n        let nanos;\n\n        if (typeof date === \"number\") {\n            nanos = Long.fromNumber(date);\n        } else if (typeof date === \"string\") {\n            nanos = Long.fromNumber(Date.parse(date)).mul(1000000);\n        } else if (date instanceof Date) {\n            nanos = Long.fromNumber(date.getTime()).mul(1000000);\n        } else {\n            throw new TypeError(\n                `invalid type '${typeof date}' for 'data', expected 'Date'`\n            );\n        }\n\n        return new Timestamp(0, 0).plusNanos(nanos);\n    }\n\n    /**\n     * @returns {Date}\n     */\n    toDate() {\n        return new Date(\n            this.seconds.toInt() * 1000 +\n                Math.floor(this.nanos.toInt() / 1000000)\n        );\n    }\n\n    /**\n     * @param {Long | number} nanos\n     * @returns {Timestamp}\n     */\n    plusNanos(nanos) {\n        const ns = this.nanos.add(nanos);\n\n        return new Timestamp(this.seconds.add(ns.div(MAX_NS)), ns.mod(MAX_NS));\n    }\n\n    /**\n     * @internal\n     * @returns {HashgraphProto.proto.ITimestamp}\n     */\n    _toProtobuf() {\n        return {\n            seconds: this.seconds,\n            nanos: this.nanos.toInt(),\n        };\n    }\n\n    /**\n     * @internal\n     * @param {HashgraphProto.proto.ITimestamp} timestamp\n     * @returns {Timestamp}\n     */\n    static _fromProtobuf(timestamp) {\n        return new Timestamp(\n            timestamp.seconds instanceof Long\n                ? timestamp.seconds.toInt()\n                : timestamp.seconds != null\n                ? timestamp.seconds\n                : 0,\n\n            timestamp.nanos != null ? timestamp.nanos : 0\n        );\n    }\n\n    /**\n     * @returns {string}\n     */\n    toString() {\n        return `${this.seconds.toString()}.${this.nanos.toString()}`;\n    }\n\n    /**\n     * @param {Timestamp} other\n     * @returns {number}\n     */\n    compare(other) {\n        const comparison = this.seconds.compare(other.seconds);\n\n        if (comparison != 0) {\n            return comparison;\n        }\n\n        return this.nanos.compare(other.nanos);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}