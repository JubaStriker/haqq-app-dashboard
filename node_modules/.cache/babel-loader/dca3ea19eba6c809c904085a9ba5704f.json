{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loop = exports.conditional = exports.parse = void 0;\n\nvar parse = function parse(stream, schema) {\n  var result = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : result;\n\n  if (Array.isArray(schema)) {\n    schema.forEach(function (partSchema) {\n      return parse(stream, partSchema, result, parent);\n    });\n  } else if (typeof schema === 'function') {\n    schema(stream, result, parent, parse);\n  } else {\n    var key = Object.keys(schema)[0];\n\n    if (Array.isArray(schema[key])) {\n      parent[key] = {};\n      parse(stream, schema[key], result, parent[key]);\n    } else {\n      parent[key] = schema[key](stream, result, parent, parse);\n    }\n  }\n\n  return result;\n};\n\nexports.parse = parse;\n\nvar conditional = function conditional(schema, conditionFunc) {\n  return function (stream, result, parent, parse) {\n    if (conditionFunc(stream, result, parent)) {\n      parse(stream, schema, result, parent);\n    }\n  };\n};\n\nexports.conditional = conditional;\n\nvar loop = function loop(schema, continueFunc) {\n  return function (stream, result, parent, parse) {\n    var arr = [];\n    var lastStreamPos = stream.pos;\n\n    while (continueFunc(stream, result, parent)) {\n      var newParent = {};\n      parse(stream, schema, result, newParent); // cases when whole file is parsed but no termination is there and stream position is not getting updated as well\n      // it falls into infinite recursion, null check to avoid the same\n\n      if (stream.pos === lastStreamPos) {\n        break;\n      }\n\n      lastStreamPos = stream.pos;\n      arr.push(newParent);\n    }\n\n    return arr;\n  };\n};\n\nexports.loop = loop;","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/hbar-shop/hbar-shop-dashboard/node_modules/js-binary-schema-parser/lib/index.js"],"names":["Object","defineProperty","exports","value","loop","conditional","parse","stream","schema","result","arguments","length","undefined","parent","Array","isArray","forEach","partSchema","key","keys","conditionFunc","continueFunc","arr","lastStreamPos","pos","newParent","push"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loop = exports.conditional = exports.parse = void 0;\n\nvar parse = function parse(stream, schema) {\n  var result = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : result;\n\n  if (Array.isArray(schema)) {\n    schema.forEach(function (partSchema) {\n      return parse(stream, partSchema, result, parent);\n    });\n  } else if (typeof schema === 'function') {\n    schema(stream, result, parent, parse);\n  } else {\n    var key = Object.keys(schema)[0];\n\n    if (Array.isArray(schema[key])) {\n      parent[key] = {};\n      parse(stream, schema[key], result, parent[key]);\n    } else {\n      parent[key] = schema[key](stream, result, parent, parse);\n    }\n  }\n\n  return result;\n};\n\nexports.parse = parse;\n\nvar conditional = function conditional(schema, conditionFunc) {\n  return function (stream, result, parent, parse) {\n    if (conditionFunc(stream, result, parent)) {\n      parse(stream, schema, result, parent);\n    }\n  };\n};\n\nexports.conditional = conditional;\n\nvar loop = function loop(schema, continueFunc) {\n  return function (stream, result, parent, parse) {\n    var arr = [];\n    var lastStreamPos = stream.pos;\n\n    while (continueFunc(stream, result, parent)) {\n      var newParent = {};\n      parse(stream, schema, result, newParent); // cases when whole file is parsed but no termination is there and stream position is not getting updated as well\n      // it falls into infinite recursion, null check to avoid the same\n\n      if (stream.pos === lastStreamPos) {\n        break;\n      }\n\n      lastStreamPos = stream.pos;\n      arr.push(newParent);\n    }\n\n    return arr;\n  };\n};\n\nexports.loop = loop;"]},"metadata":{},"sourceType":"script"}