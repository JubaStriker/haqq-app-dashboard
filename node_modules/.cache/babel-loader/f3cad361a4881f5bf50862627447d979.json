{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateAction = exports.validateProps = void 0;\n\nvar NavigationMenu_1 = require(\"../../actions/Menu/NavigationMenu\");\n\nvar ChannelMenu_1 = require(\"../../actions/Menu/ChannelMenu\");\n\nvar type_validate_1 = require(\"../type-validate\");\n\nvar utils_1 = require(\"../utils\");\n\nvar helper_1 = require(\"../../actions/helper\");\n\nvar link_1 = require(\"./link\");\n\nvar linkOptionsValidator = type_validate_1.matchesObject({\n  id: type_validate_1.matchesString(),\n  options: link_1.linkPropsSchema\n});\n\nfunction activeLinkError(value) {\n  return [{\n    error: 'invalid_active_item',\n    value: value,\n    message: 'expected active item to exist in menu items'\n  }];\n}\n\nfunction getOptionsSchema(options) {\n  var baseSchema = type_validate_1.matchesObject({\n    items: type_validate_1.makeOptional(type_validate_1.matchesArray(linkOptionsValidator)),\n    active: type_validate_1.makeOptional(linkOptionsValidator)\n  });\n  var items = options.items,\n      active = options.active;\n\n  if (items && active) {\n    var activeItemSchema = type_validate_1.matchesObject({\n      active: type_validate_1.composeSchemas(linkOptionsValidator, function (value) {\n        return items.find(function (item) {\n          return item.id === value.id;\n        }) ? undefined : activeLinkError(value);\n      })\n    });\n    return type_validate_1.composeSchemas(baseSchema, activeItemSchema);\n  }\n\n  return baseSchema;\n}\n\nfunction getPayloadSchema(payload) {\n  var baseSchema = type_validate_1.matchesObject({\n    items: type_validate_1.makeOptional(type_validate_1.matchesArray(link_1.linkActionSchema)),\n    active: type_validate_1.makeOptional(type_validate_1.matchesString())\n  });\n  var items = payload.items,\n      active = payload.active;\n\n  if (items && active) {\n    var activeItemSchema = type_validate_1.matchesObject({\n      active: type_validate_1.composeSchemas(type_validate_1.matchesString(), function (value) {\n        return items.find(function (item) {\n          return item.id === value;\n        }) ? undefined : activeLinkError(value);\n      })\n    });\n    return type_validate_1.composeSchemas(baseSchema, activeItemSchema);\n  }\n\n  return baseSchema;\n}\n\nfunction validateProps(props) {\n  var result = type_validate_1.validate(props, getOptionsSchema(props));\n  return result;\n}\n\nexports.validateProps = validateProps;\n\nfunction validateAction(action) {\n  var actionType = NavigationMenu_1.Action;\n\n  if (helper_1.findMatchInEnum(ChannelMenu_1.Action, action.type)) {\n    actionType = ChannelMenu_1.Action;\n  }\n\n  return type_validate_1.validate(action, utils_1.createActionValidator(actionType, getPayloadSchema(action.payload), true, false));\n}\n\nexports.validateAction = validateAction;","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/hbar-shop/xrp-shopify-coupon-client/node_modules/@shopify/app-bridge/validate/actions/menu.js"],"names":["Object","defineProperty","exports","value","validateAction","validateProps","NavigationMenu_1","require","ChannelMenu_1","type_validate_1","utils_1","helper_1","link_1","linkOptionsValidator","matchesObject","id","matchesString","options","linkPropsSchema","activeLinkError","error","message","getOptionsSchema","baseSchema","items","makeOptional","matchesArray","active","activeItemSchema","composeSchemas","find","item","undefined","getPayloadSchema","payload","linkActionSchema","props","result","validate","action","actionType","Action","findMatchInEnum","type","createActionValidator"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,cAAR,GAAyBF,OAAO,CAACG,aAAR,GAAwB,KAAK,CAAtD;;AACA,IAAIC,gBAAgB,GAAGC,OAAO,CAAC,mCAAD,CAA9B;;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,gCAAD,CAA3B;;AACA,IAAIE,eAAe,GAAGF,OAAO,CAAC,kBAAD,CAA7B;;AACA,IAAIG,OAAO,GAAGH,OAAO,CAAC,UAAD,CAArB;;AACA,IAAII,QAAQ,GAAGJ,OAAO,CAAC,sBAAD,CAAtB;;AACA,IAAIK,MAAM,GAAGL,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIM,oBAAoB,GAAGJ,eAAe,CAACK,aAAhB,CAA8B;AAAEC,EAAAA,EAAE,EAAEN,eAAe,CAACO,aAAhB,EAAN;AAAuCC,EAAAA,OAAO,EAAEL,MAAM,CAACM;AAAvD,CAA9B,CAA3B;;AACA,SAASC,eAAT,CAAyBhB,KAAzB,EAAgC;AAC5B,SAAO,CACH;AACIiB,IAAAA,KAAK,EAAE,qBADX;AAEIjB,IAAAA,KAAK,EAAEA,KAFX;AAGIkB,IAAAA,OAAO,EAAE;AAHb,GADG,CAAP;AAOH;;AACD,SAASC,gBAAT,CAA0BL,OAA1B,EAAmC;AAC/B,MAAIM,UAAU,GAAGd,eAAe,CAACK,aAAhB,CAA8B;AAC3CU,IAAAA,KAAK,EAAEf,eAAe,CAACgB,YAAhB,CAA6BhB,eAAe,CAACiB,YAAhB,CAA6Bb,oBAA7B,CAA7B,CADoC;AAE3Cc,IAAAA,MAAM,EAAElB,eAAe,CAACgB,YAAhB,CAA6BZ,oBAA7B;AAFmC,GAA9B,CAAjB;AAIA,MAAIW,KAAK,GAAGP,OAAO,CAACO,KAApB;AAAA,MAA2BG,MAAM,GAAGV,OAAO,CAACU,MAA5C;;AACA,MAAIH,KAAK,IAAIG,MAAb,EAAqB;AACjB,QAAIC,gBAAgB,GAAGnB,eAAe,CAACK,aAAhB,CAA8B;AACjDa,MAAAA,MAAM,EAAElB,eAAe,CAACoB,cAAhB,CAA+BhB,oBAA/B,EAAqD,UAAUV,KAAV,EAAiB;AAC1E,eAAOqB,KAAK,CAACM,IAAN,CAAW,UAAUC,IAAV,EAAgB;AAAE,iBAAOA,IAAI,CAAChB,EAAL,KAAYZ,KAAK,CAACY,EAAzB;AAA8B,SAA3D,IAA+DiB,SAA/D,GAA2Eb,eAAe,CAAChB,KAAD,CAAjG;AACH,OAFO;AADyC,KAA9B,CAAvB;AAKA,WAAOM,eAAe,CAACoB,cAAhB,CAA+BN,UAA/B,EAA2CK,gBAA3C,CAAP;AACH;;AACD,SAAOL,UAAP;AACH;;AACD,SAASU,gBAAT,CAA0BC,OAA1B,EAAmC;AAC/B,MAAIX,UAAU,GAAGd,eAAe,CAACK,aAAhB,CAA8B;AAC3CU,IAAAA,KAAK,EAAEf,eAAe,CAACgB,YAAhB,CAA6BhB,eAAe,CAACiB,YAAhB,CAA6Bd,MAAM,CAACuB,gBAApC,CAA7B,CADoC;AAE3CR,IAAAA,MAAM,EAAElB,eAAe,CAACgB,YAAhB,CAA6BhB,eAAe,CAACO,aAAhB,EAA7B;AAFmC,GAA9B,CAAjB;AAIA,MAAIQ,KAAK,GAAGU,OAAO,CAACV,KAApB;AAAA,MAA2BG,MAAM,GAAGO,OAAO,CAACP,MAA5C;;AACA,MAAIH,KAAK,IAAIG,MAAb,EAAqB;AACjB,QAAIC,gBAAgB,GAAGnB,eAAe,CAACK,aAAhB,CAA8B;AACjDa,MAAAA,MAAM,EAAElB,eAAe,CAACoB,cAAhB,CAA+BpB,eAAe,CAACO,aAAhB,EAA/B,EAAgE,UAAUb,KAAV,EAAiB;AACrF,eAAOqB,KAAK,CAACM,IAAN,CAAW,UAAUC,IAAV,EAAgB;AAAE,iBAAOA,IAAI,CAAChB,EAAL,KAAYZ,KAAnB;AAA2B,SAAxD,IACD6B,SADC,GAEDb,eAAe,CAAChB,KAAD,CAFrB;AAGH,OAJO;AADyC,KAA9B,CAAvB;AAOA,WAAOM,eAAe,CAACoB,cAAhB,CAA+BN,UAA/B,EAA2CK,gBAA3C,CAAP;AACH;;AACD,SAAOL,UAAP;AACH;;AACD,SAASlB,aAAT,CAAuB+B,KAAvB,EAA8B;AAC1B,MAAIC,MAAM,GAAG5B,eAAe,CAAC6B,QAAhB,CAAyBF,KAAzB,EAAgCd,gBAAgB,CAACc,KAAD,CAAhD,CAAb;AACA,SAAOC,MAAP;AACH;;AACDnC,OAAO,CAACG,aAAR,GAAwBA,aAAxB;;AACA,SAASD,cAAT,CAAwBmC,MAAxB,EAAgC;AAC5B,MAAIC,UAAU,GAAGlC,gBAAgB,CAACmC,MAAlC;;AACA,MAAI9B,QAAQ,CAAC+B,eAAT,CAAyBlC,aAAa,CAACiC,MAAvC,EAA+CF,MAAM,CAACI,IAAtD,CAAJ,EAAiE;AAC7DH,IAAAA,UAAU,GAAGhC,aAAa,CAACiC,MAA3B;AACH;;AACD,SAAOhC,eAAe,CAAC6B,QAAhB,CAAyBC,MAAzB,EAAiC7B,OAAO,CAACkC,qBAAR,CAA8BJ,UAA9B,EAA0CP,gBAAgB,CAACM,MAAM,CAACL,OAAR,CAA1D,EAA4E,IAA5E,EAAkF,KAAlF,CAAjC,CAAP;AACH;;AACDhC,OAAO,CAACE,cAAR,GAAyBA,cAAzB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAction = exports.validateProps = void 0;\nvar NavigationMenu_1 = require(\"../../actions/Menu/NavigationMenu\");\nvar ChannelMenu_1 = require(\"../../actions/Menu/ChannelMenu\");\nvar type_validate_1 = require(\"../type-validate\");\nvar utils_1 = require(\"../utils\");\nvar helper_1 = require(\"../../actions/helper\");\nvar link_1 = require(\"./link\");\nvar linkOptionsValidator = type_validate_1.matchesObject({ id: type_validate_1.matchesString(), options: link_1.linkPropsSchema });\nfunction activeLinkError(value) {\n    return [\n        {\n            error: 'invalid_active_item',\n            value: value,\n            message: 'expected active item to exist in menu items',\n        },\n    ];\n}\nfunction getOptionsSchema(options) {\n    var baseSchema = type_validate_1.matchesObject({\n        items: type_validate_1.makeOptional(type_validate_1.matchesArray(linkOptionsValidator)),\n        active: type_validate_1.makeOptional(linkOptionsValidator),\n    });\n    var items = options.items, active = options.active;\n    if (items && active) {\n        var activeItemSchema = type_validate_1.matchesObject({\n            active: type_validate_1.composeSchemas(linkOptionsValidator, function (value) {\n                return items.find(function (item) { return item.id === value.id; }) ? undefined : activeLinkError(value);\n            }),\n        });\n        return type_validate_1.composeSchemas(baseSchema, activeItemSchema);\n    }\n    return baseSchema;\n}\nfunction getPayloadSchema(payload) {\n    var baseSchema = type_validate_1.matchesObject({\n        items: type_validate_1.makeOptional(type_validate_1.matchesArray(link_1.linkActionSchema)),\n        active: type_validate_1.makeOptional(type_validate_1.matchesString()),\n    });\n    var items = payload.items, active = payload.active;\n    if (items && active) {\n        var activeItemSchema = type_validate_1.matchesObject({\n            active: type_validate_1.composeSchemas(type_validate_1.matchesString(), function (value) {\n                return items.find(function (item) { return item.id === value; })\n                    ? undefined\n                    : activeLinkError(value);\n            }),\n        });\n        return type_validate_1.composeSchemas(baseSchema, activeItemSchema);\n    }\n    return baseSchema;\n}\nfunction validateProps(props) {\n    var result = type_validate_1.validate(props, getOptionsSchema(props));\n    return result;\n}\nexports.validateProps = validateProps;\nfunction validateAction(action) {\n    var actionType = NavigationMenu_1.Action;\n    if (helper_1.findMatchInEnum(ChannelMenu_1.Action, action.type)) {\n        actionType = ChannelMenu_1.Action;\n    }\n    return type_validate_1.validate(action, utils_1.createActionValidator(actionType, getPayloadSchema(action.payload), true, false));\n}\nexports.validateAction = validateAction;\n"]},"metadata":{},"sourceType":"script"}