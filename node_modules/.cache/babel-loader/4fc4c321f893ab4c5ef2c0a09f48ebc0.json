{"ast":null,"code":"var _jsxFileName = \"/Users/jithendra/Desktop/Work/meta-soft-xrp/xrp-shopify-coupon-client/src/routes/look/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from \"react\";\nimport { Box, Flex, Stack, Heading, Text, Container, Input, Button, SimpleGrid, useBreakpointValue, FormControl, FormLabel, Icon, StackDivider, useColorModeValue, Image, useDisclosure, chakra, toast, useToast, Avatar, AvatarGroup, SkeletonText, SkeletonCircle, Skeleton, VStack, Divider, AvatarBadge, ButtonGroup } from \"@chakra-ui/react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { IoClose, IoAddOutline, IoCloseCircleOutline } from \"react-icons/io5\";\nimport { ResourcePicker } from \"@shopify/app-bridge-react\";\nimport NavBar from \"../../components/navbar\";\nimport useFilesStore from \"../../store/files\";\nimport useScriptsStore from \"../../store/scripts\";\nimport Upload from \"../../components/upload\";\nimport useLooksStore from \"../../store/looks\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport { ShopContext } from \"../../context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst renderSkeleton = () => {\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    direction: \"column\",\n    width: \"100%\",\n    children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n      width: \"100%\",\n      height: \"40px\",\n      children: \" \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SkeletonText, {\n      mt: \"4\",\n      noOfLines: 1,\n      spacing: \"4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(SkeletonCircle, {\n        size: \"20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SkeletonText, {\n        mt: \"4\",\n        noOfLines: 4,\n        spacing: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\nfunction CreateLooks(props) {\n  _s();\n\n  const shop = useContext(ShopContext);\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const {\n    isOpen: isResourcePickerOpen,\n    onOpen: onResourcePickerOpen,\n    onClose: onResourcePickerClose\n  } = useDisclosure();\n  const looks = useLooksStore(state => state.looks);\n  const files = useFilesStore(state => state.files);\n  const getLooks = useLooksStore(state => state.getLooks);\n  const postLooks = useLooksStore(state => state.postLooks);\n  const destroyLooks = useLooksStore(state => state.destroyLooks);\n  const patchLooks = useLooksStore(state => state.patchLooks);\n  const scripts = useScriptsStore(state => state.scripts);\n  const postScripts = useScriptsStore(state => state.postScripts);\n  const getScripts = useScriptsStore(state => state.getScripts);\n  const {\n    id = \"\"\n  } = useParams();\n  const toast = useToast();\n  const navigate = useNavigate();\n  const colorMode = useColorModeValue(\"gray.100\", \"gray.700\");\n  const [looksName, setLooksName] = useState(props.looks.name);\n  const [xrpMerchant, setXrpMerchant] = useState('');\n  const [uploads, setUploads] = useState(props.looks.files || []);\n  const [products, setProducts] = useState(props.looks.products || []);\n\n  const onUploadWidgetClose = function () {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    setUploads([...uploads, ...data]);\n    onClose();\n  };\n\n  const onResourcePickerDone = function () {\n    var _data$selection;\n\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    setProducts([...products.filter(Boolean), ...(data === null || data === void 0 ? void 0 : (_data$selection = data.selection) === null || _data$selection === void 0 ? void 0 : _data$selection.map(d => {\n      return {\n        title: d.title,\n        image: d.images[0] && d.images[0].originalSrc || \"\",\n        id: d.id\n      };\n    }).filter(Boolean))]);\n    onResourcePickerClose();\n  };\n\n  const getLooskById = async () => {\n    if (id) {\n      const data = await getLooks({\n        id\n      });\n      console.log(\"data is \", data);\n\n      if (data) {\n        setLooksName(data === null || data === void 0 ? void 0 : data.name);\n        setUploads([...uploads, ...(data === null || data === void 0 ? void 0 : data.medias)]);\n        setProducts([...products, ...(data === null || data === void 0 ? void 0 : data.products.map(p => ({\n          id: p.admin_graphql_api_id,\n          title: p.title,\n          image: p.image.src\n        })))]);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getLooskById();\n  }, []);\n\n  const removeUpload = (upload, index) => {\n    uploads.splice(index, 1);\n    setUploads([...uploads.filter(Boolean)]);\n  };\n\n  const removeProduct = index => {\n    products.splice(index, 1);\n    setProducts([...products.filter(Boolean)]);\n  };\n\n  const onDestroyLook = async lookId => {\n    try {\n      await destroyLooks(lookId);\n      toast({\n        title: `Look deleted!`,\n        status: \"success\"\n      });\n      window.history.back();\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: \"error\"\n      });\n    }\n  };\n\n  const renderProducts = () => {\n    return products.map((product, index) => /*#__PURE__*/_jsxDEV(Stack, {\n      id: product.id,\n      justifyContent: \"space-between\",\n      direction: \"row\",\n      background: \"white\",\n      padding: \"3\",\n      borderRadius: \"lg\",\n      marginBottom: \"4\",\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          w: 16,\n          h: 16,\n          align: \"center\",\n          justify: \"center\",\n          rounded: \"full\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            objectFit: \"contain\",\n            width: \"100%\",\n            height: \"100%\",\n            src: product.image,\n            color: \"yellow.500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Flex, {\n          direction: \"column\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            marginLeft: \"3\",\n            fontWeight: 600,\n            children: product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Icon, {\n        as: IoClose,\n        color: \"red.500\",\n        w: 5,\n        h: 5,\n        onClick: () => removeProduct(index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this));\n  };\n\n  const renderLooks = () => {\n    if (looks.get.loading) {\n      return renderSkeleton();\n    } else if (looks.get.failure.error) {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(Flex, {\n          direction: \"column\",\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(VStack, {\n            spacing: \"3\",\n            children: /*#__PURE__*/_jsxDEV(Heading, {\n              as: \"h1\",\n              size: \"md\",\n              children: looks.get.failure.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(VStack, {\n            spacing: \"3\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => getLooskById(),\n              children: \"Try Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this);\n    } else {\n      var _looks$get;\n\n      const {\n        data\n      } = looks === null || looks === void 0 ? void 0 : (_looks$get = looks.get) === null || _looks$get === void 0 ? void 0 : _looks$get.success;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 4,\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            color: \"gray.800\",\n            lineHeight: 1.1,\n            fontSize: {\n              base: \"2xl\",\n              sm: \"3xl\",\n              md: \"4xl\"\n            },\n            children: data && data.name ? data.name : \"Create a look\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            color: \"gray.500\",\n            fontSize: {\n              base: \"sm\",\n              sm: \"md\"\n            },\n            children: \"Add a name for the look you create and link the products from your store that can form this look.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 10,\n          children: /*#__PURE__*/_jsxDEV(chakra.form, {\n            onSubmit: async e => {\n              e.preventDefault();\n\n              try {\n                if (id) {\n                  await patchLooks({\n                    id,\n                    name: looksName,\n                    medias: uploads,\n                    products: products.map(product => product.id) // XRP Address\n                    //   xrpAddress: xrpMerchant,\n\n                  });\n                } else {\n                  await postLooks({\n                    name: looksName,\n                    medias: uploads,\n                    products: products.map(product => product.id) // XRP Address\n                    //   xrpAddress: xrpMerchant,\n\n                  });\n\n                  try {\n                    const scriptsOnStore = await getScripts(shop);\n\n                    if (scriptsOnStore && scriptsOnStore.length) {// already has a script tag, do nothing.\n                    } else {\n                      await postScripts(shop);\n                    }\n\n                    window.history.back();\n                  } catch (e) {\n                    window.history.back();\n                  }\n                }\n\n                toast({\n                  title: `Looks ${id ? \"updated\" : \"created\"} successfully!`,\n                  status: \"success\"\n                });\n              } catch (e) {\n                toast({\n                  title: e.message || INTERNAL_SERVER_ERROR,\n                  status: \"error\"\n                });\n              }\n            },\n            ...props,\n            children: [/*#__PURE__*/_jsxDEV(Stack, {\n              spacing: 4,\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"look-name\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Look name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Winter Fashion Look\",\n                  name: \"look_name\",\n                  type: \"text\",\n                  value: looksName,\n                  onChange: e => setLooksName(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Add medias to this look\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(AvatarGroup, {\n                  children: [uploads.map((upload, index) => /*#__PURE__*/_jsxDEV(Avatar, {\n                    name: upload._name || upload.name,\n                    src: upload._url || upload.url,\n                    size: \"lg\" // size={useBreakpointValue({ base: 'md', md: 'lg' })}\n                    ,\n                    position: \"relative\",\n                    zIndex: 2,\n                    _before: {\n                      content: '\"\"',\n                      width: \"full\",\n                      height: \"full\",\n                      rounded: \"full\",\n                      transform: \"scale(1.125)\",\n                      bgGradient: \"linear(to-bl, red.400,pink.400)\",\n                      position: \"absolute\",\n                      zIndex: -1,\n                      top: 0,\n                      left: 0\n                    },\n                    children: /*#__PURE__*/_jsxDEV(AvatarBadge, {\n                      boxSize: \"1.25em\",\n                      bg: \"red.500\",\n                      onClick: () => removeUpload(upload, index),\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        as: IoCloseCircleOutline,\n                        color: \"white.500\",\n                        w: 5,\n                        h: 5\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 343,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 25\n                    }, this)\n                  }, (upload._name || upload.name) + index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 23\n                  }, this)), /*#__PURE__*/_jsxDEV(Avatar, {\n                    onClick: onOpen,\n                    size: \"lg\",\n                    bg: \"pink.400\",\n                    _hover: {\n                      bg: \"pink.300\"\n                    },\n                    cursor: \"pointer\",\n                    icon: /*#__PURE__*/_jsxDEV(IoAddOutline, {\n                      size: \"2em\",\n                      color: \"white\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 29\n                    }, this),\n                    _before: {\n                      content: '\"\"',\n                      width: \"full\",\n                      height: \"full\",\n                      rounded: \"full\",\n                      transform: \"scale(1.2)\",\n                      bgGradient: \"linear(to-bl, red.400,pink.400)\",\n                      position: \"absolute\",\n                      zIndex: -1,\n                      top: 0,\n                      left: 0\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Upload, {\n                  isOpen: isOpen,\n                  onClose: onUploadWidgetClose\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"look-products\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Add products for this look\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                  spacing: 4,\n                  children: renderProducts()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  fontFamily: \"heading\",\n                  bg: \"gray.200\",\n                  color: \"gray.800\",\n                  onClick: onResourcePickerOpen,\n                  children: \"Link products +\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(ResourcePicker, {\n                  onSelection: onResourcePickerDone,\n                  onCancel: onResourcePickerClose,\n                  selectMultiple: true,\n                  showVariants: false,\n                  resourceType: \"Product\",\n                  open: isResourcePickerOpen,\n                  initialSelectionIds: products.map(product => ({\n                    id: product.id\n                  })).filter(Boolean)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n              mt: 8,\n              width: \"full\",\n              children: [data && data.objectId ? /*#__PURE__*/_jsxDEV(Button, {\n                isLoading: looks.destroy.loading,\n                onClick: () => onDestroyLook(data.objectId),\n                isFullWidth: true,\n                variant: \"ghost\",\n                colorScheme: \"red\",\n                children: \"Delete Look\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n                isLoading: looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading,\n                disabled: looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading,\n                loadingText: `${id ? \"Updating\" : \"Saving\"} look`,\n                type: \"submit\",\n                fontFamily: \"heading\",\n                isFullWidth: true,\n                w: \"full\",\n                bgGradient: \"linear(to-r, red.400,pink.400)\",\n                color: \"white\",\n                _hover: {\n                  bgGradient: \"linear(to-r, red.400,pink.400)\",\n                  boxShadow: \"xl\"\n                },\n                children: `${id ? \"Update\" : \"Save\"} look`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n\n    return null;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      position: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        as: SimpleGrid,\n        maxW: \"7xl\",\n        columns: {\n          base: 1,\n          md: 1\n        },\n        spacing: {\n          base: 10,\n          lg: 32\n        },\n        py: {\n          base: 10,\n          sm: 15,\n          lg: 20\n        },\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          bg: \"gray.50\",\n          rounded: \"xl\",\n          p: {\n            base: 4,\n            sm: 6,\n            md: 8\n          },\n          spacing: {\n            base: 8\n          },\n          maxW: \"3xl\",\n          zIndex: \"9\",\n          margin: \"0 auto\",\n          width: \"100%\",\n          children: renderLooks()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Blur, {\n        position: \"absolute\",\n        top: 30,\n        left: -10,\n        style: {\n          filter: \"blur(70px)\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CreateLooks, \"I3Ws6oT/FbX90a2uwFOvhVL+vas=\", false, function () {\n  return [useDisclosure, useDisclosure, useLooksStore, useFilesStore, useLooksStore, useLooksStore, useLooksStore, useLooksStore, useScriptsStore, useScriptsStore, useScriptsStore, useParams, useToast, useNavigate, useColorModeValue];\n});\n\n_c = CreateLooks;\nexport const Blur = props => {\n  _s2();\n\n  return /*#__PURE__*/_jsxDEV(Icon, {\n    width: useBreakpointValue({\n      base: \"100%\",\n      md: \"40vw\",\n      lg: \"30vw\"\n    }),\n    zIndex: useBreakpointValue({\n      base: -1,\n      md: -1,\n      lg: 0\n    }),\n    height: \"560px\",\n    viewBox: \"0 0 528 560\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ...props,\n    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"71\",\n      cy: \"61\",\n      r: \"111\",\n      fill: \"#F56565\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"244\",\n      cy: \"106\",\n      r: \"139\",\n      fill: \"#ED64A6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cy: \"291\",\n      r: \"139\",\n      fill: \"#ED64A6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"80.5\",\n      cy: \"189.5\",\n      r: \"101.5\",\n      fill: \"#ED8936\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"196.5\",\n      cy: \"317.5\",\n      r: \"101.5\",\n      fill: \"#ECC94B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"70.5\",\n      cy: \"458.5\",\n      r: \"101.5\",\n      fill: \"#48BB78\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"426.5\",\n      cy: \"-0.5\",\n      r: \"101.5\",\n      fill: \"#4299E1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 485,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Blur, \"0FymyQKbFpo4xay/lSY81x3XnSk=\", false, function () {\n  return [useBreakpointValue, useBreakpointValue];\n});\n\n_c2 = Blur;\nCreateLooks.defaultProps = {\n  looks: {\n    name: \"\"\n  }\n};\nexport default CreateLooks;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CreateLooks\");\n$RefreshReg$(_c2, \"Blur\");","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/meta-soft-xrp/xrp-shopify-coupon-client/src/routes/look/index.js"],"names":["useEffect","useState","useContext","Box","Flex","Stack","Heading","Text","Container","Input","Button","SimpleGrid","useBreakpointValue","FormControl","FormLabel","Icon","StackDivider","useColorModeValue","Image","useDisclosure","chakra","toast","useToast","Avatar","AvatarGroup","SkeletonText","SkeletonCircle","Skeleton","VStack","Divider","AvatarBadge","ButtonGroup","useParams","useNavigate","IoClose","IoAddOutline","IoCloseCircleOutline","ResourcePicker","NavBar","useFilesStore","useScriptsStore","Upload","useLooksStore","INTERNAL_SERVER_ERROR","ShopContext","renderSkeleton","CreateLooks","props","shop","isOpen","onOpen","onClose","isResourcePickerOpen","onResourcePickerOpen","onResourcePickerClose","looks","state","files","getLooks","postLooks","destroyLooks","patchLooks","scripts","postScripts","getScripts","id","navigate","colorMode","looksName","setLooksName","name","xrpMerchant","setXrpMerchant","uploads","setUploads","products","setProducts","onUploadWidgetClose","data","onResourcePickerDone","filter","Boolean","selection","map","d","title","image","images","originalSrc","getLooskById","console","log","medias","p","admin_graphql_api_id","src","removeUpload","upload","index","splice","removeProduct","onDestroyLook","lookId","status","window","history","back","e","message","renderProducts","product","renderLooks","get","loading","failure","error","success","base","sm","md","preventDefault","scriptsOnStore","length","target","value","_name","_url","url","content","width","height","rounded","transform","bgGradient","position","zIndex","top","left","bg","objectId","destroy","post","patch","boxShadow","lg","Blur","defaultProps"],"mappings":";;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SACEC,GADF,EAEEC,IAFF,EAGEC,KAHF,EAIEC,OAJF,EAKEC,IALF,EAMEC,SANF,EAOEC,KAPF,EAQEC,MARF,EASEC,UATF,EAUEC,kBAVF,EAWEC,WAXF,EAYEC,SAZF,EAaEC,IAbF,EAcEC,YAdF,EAeEC,iBAfF,EAgBEC,KAhBF,EAiBEC,aAjBF,EAkBEC,MAlBF,EAmBEC,KAnBF,EAoBEC,QApBF,EAqBEC,MArBF,EAsBEC,WAtBF,EAuBEC,YAvBF,EAwBEC,cAxBF,EAyBEC,QAzBF,EA0BEC,MA1BF,EA2BEC,OA3BF,EA4BEC,WA5BF,EA6BEC,WA7BF,QA8BO,kBA9BP;AA+BA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,kBAAvC;AACA,SAASC,OAAT,EAAkBC,YAAlB,EAAgCC,oBAAhC,QAA4D,iBAA5D;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,OAAOC,aAAP,MAA0B,mBAA1B;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,aAAP,MAA0B,mBAA1B;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SAASC,WAAT,QAA4B,eAA5B;;;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAC3B,sBACE,QAAC,IAAD;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAyB,IAAA,KAAK,EAAC,MAA/B;AAAA,4BACE,QAAC,QAAD;AAAU,MAAA,KAAK,EAAC,MAAhB;AAAuB,MAAA,MAAM,EAAC,MAA9B;AAAA,gBACG;AADH;AAAA;AAAA;AAAA;AAAA,YADF,eAIE,QAAC,YAAD;AAAc,MAAA,EAAE,EAAC,GAAjB;AAAqB,MAAA,SAAS,EAAE,CAAhC;AAAmC,MAAA,OAAO,EAAC;AAA3C;AAAA;AAAA;AAAA;AAAA,YAJF,eAKE;AAAA;AAAA;AAAA;AAAA,YALF,eAME;AAAA;AAAA;AAAA;AAAA,YANF,eAOE,QAAC,GAAD;AAAA,8BACE,QAAC,cAAD;AAAgB,QAAA,IAAI,EAAC;AAArB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,YAAD;AAAc,QAAA,EAAE,EAAC,GAAjB;AAAqB,QAAA,SAAS,EAAE,CAAhC;AAAmC,QAAA,OAAO,EAAC;AAA3C;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD,CAfD;;AAiBA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AAC1B,QAAMC,IAAI,GAAG9C,UAAU,CAAC0C,WAAD,CAAvB;AACA,QAAM;AAAEK,IAAAA,MAAF;AAAUC,IAAAA,MAAV;AAAkBC,IAAAA;AAAlB,MAA8BhC,aAAa,EAAjD;AACA,QAAM;AACJ8B,IAAAA,MAAM,EAAEG,oBADJ;AAEJF,IAAAA,MAAM,EAAEG,oBAFJ;AAGJF,IAAAA,OAAO,EAAEG;AAHL,MAIFnC,aAAa,EAJjB;AAKA,QAAMoC,KAAK,GAAGb,aAAa,CAAEc,KAAD,IAAWA,KAAK,CAACD,KAAlB,CAA3B;AACA,QAAME,KAAK,GAAGlB,aAAa,CAAEiB,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAA3B;AACA,QAAMC,QAAQ,GAAGhB,aAAa,CAAEc,KAAD,IAAWA,KAAK,CAACE,QAAlB,CAA9B;AACA,QAAMC,SAAS,GAAGjB,aAAa,CAAEc,KAAD,IAAWA,KAAK,CAACG,SAAlB,CAA/B;AACA,QAAMC,YAAY,GAAGlB,aAAa,CAAEc,KAAD,IAAWA,KAAK,CAACI,YAAlB,CAAlC;AACA,QAAMC,UAAU,GAAGnB,aAAa,CAAEc,KAAD,IAAWA,KAAK,CAACK,UAAlB,CAAhC;AACA,QAAMC,OAAO,GAAGtB,eAAe,CAAEgB,KAAD,IAAWA,KAAK,CAACM,OAAlB,CAA/B;AACA,QAAMC,WAAW,GAAGvB,eAAe,CAAEgB,KAAD,IAAWA,KAAK,CAACO,WAAlB,CAAnC;AACA,QAAMC,UAAU,GAAGxB,eAAe,CAAEgB,KAAD,IAAWA,KAAK,CAACQ,UAAlB,CAAlC;AAEA,QAAM;AAAEC,IAAAA,EAAE,GAAG;AAAP,MAAcjC,SAAS,EAA7B;AACA,QAAMX,KAAK,GAAGC,QAAQ,EAAtB;AACA,QAAM4C,QAAQ,GAAGjC,WAAW,EAA5B;AACA,QAAMkC,SAAS,GAAGlD,iBAAiB,CAAC,UAAD,EAAa,UAAb,CAAnC;AACA,QAAM,CAACmD,SAAD,EAAYC,YAAZ,IAA4BpE,QAAQ,CAAC8C,KAAK,CAACQ,KAAN,CAAYe,IAAb,CAA1C;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCvE,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACwE,OAAD,EAAUC,UAAV,IAAwBzE,QAAQ,CAAC8C,KAAK,CAACQ,KAAN,CAAYE,KAAZ,IAAqB,EAAtB,CAAtC;AACA,QAAM,CAACkB,QAAD,EAAWC,WAAX,IAA0B3E,QAAQ,CAAC8C,KAAK,CAACQ,KAAN,CAAYoB,QAAZ,IAAwB,EAAzB,CAAxC;;AACA,QAAME,mBAAmB,GAAG,YAAe;AAAA,QAAdC,IAAc,uEAAP,EAAO;AACzCJ,IAAAA,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAa,GAAGK,IAAhB,CAAD,CAAV;AACA3B,IAAAA,OAAO;AACR,GAHD;;AAKA,QAAM4B,oBAAoB,GAAG,YAAe;AAAA;;AAAA,QAAdD,IAAc,uEAAP,EAAO;AAC1CF,IAAAA,WAAW,CAAC,CACV,GAAGD,QAAQ,CAACK,MAAT,CAAgBC,OAAhB,CADO,EAEV,IAAGH,IAAH,aAAGA,IAAH,0CAAGA,IAAI,CAAEI,SAAT,oDAAG,gBACCC,GADD,CACMC,CAAD,IAAO;AACX,aAAO;AACLC,QAAAA,KAAK,EAAED,CAAC,CAACC,KADJ;AAELC,QAAAA,KAAK,EAAGF,CAAC,CAACG,MAAF,CAAS,CAAT,KAAeH,CAAC,CAACG,MAAF,CAAS,CAAT,EAAYC,WAA5B,IAA4C,EAF9C;AAGLvB,QAAAA,EAAE,EAAEmB,CAAC,CAACnB;AAHD,OAAP;AAKD,KAPA,EAQAe,MARA,CAQOC,OARP,CAAH,CAFU,CAAD,CAAX;AAYA3B,IAAAA,qBAAqB;AACtB,GAdD;;AAgBA,QAAMmC,YAAY,GAAG,YAAY;AAC/B,QAAIxB,EAAJ,EAAQ;AACN,YAAMa,IAAI,GAAG,MAAMpB,QAAQ,CAAC;AAAEO,QAAAA;AAAF,OAAD,CAA3B;AACAyB,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBb,IAAxB;;AACA,UAAIA,IAAJ,EAAU;AACRT,QAAAA,YAAY,CAACS,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAER,IAAP,CAAZ;AACAI,QAAAA,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAa,IAAGK,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEc,MAAT,CAAb,CAAD,CAAV;AAEAhB,QAAAA,WAAW,CAAC,CACV,GAAGD,QADO,EAEV,IAAGG,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEH,QAAN,CAAeQ,GAAf,CAAoBU,CAAD,KAAQ;AAC5B5B,UAAAA,EAAE,EAAE4B,CAAC,CAACC,oBADsB;AAE5BT,UAAAA,KAAK,EAAEQ,CAAC,CAACR,KAFmB;AAG5BC,UAAAA,KAAK,EAAEO,CAAC,CAACP,KAAF,CAAQS;AAHa,SAAR,CAAnB,CAAH,CAFU,CAAD,CAAX;AAQD;AACF;AACF,GAlBD;;AAoBA/F,EAAAA,SAAS,CAAC,MAAM;AACdyF,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMO,YAAY,GAAG,CAACC,MAAD,EAASC,KAAT,KAAmB;AACtCzB,IAAAA,OAAO,CAAC0B,MAAR,CAAeD,KAAf,EAAsB,CAAtB;AACAxB,IAAAA,UAAU,CAAC,CAAC,GAAGD,OAAO,CAACO,MAAR,CAAeC,OAAf,CAAJ,CAAD,CAAV;AACD,GAHD;;AAKA,QAAMmB,aAAa,GAAIF,KAAD,IAAW;AAC/BvB,IAAAA,QAAQ,CAACwB,MAAT,CAAgBD,KAAhB,EAAuB,CAAvB;AACAtB,IAAAA,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAACK,MAAT,CAAgBC,OAAhB,CAAJ,CAAD,CAAX;AACD,GAHD;;AAKA,QAAMoB,aAAa,GAAG,MAAOC,MAAP,IAAkB;AACtC,QAAI;AACF,YAAM1C,YAAY,CAAC0C,MAAD,CAAlB;AACAjF,MAAAA,KAAK,CAAC;AACJgE,QAAAA,KAAK,EAAG,eADJ;AAEJkB,QAAAA,MAAM,EAAE;AAFJ,OAAD,CAAL;AAIAC,MAAAA,MAAM,CAACC,OAAP,CAAeC,IAAf;AACD,KAPD,CAOE,OAAOC,CAAP,EAAU;AACVtF,MAAAA,KAAK,CAAC;AACJgE,QAAAA,KAAK,EAAEsB,CAAC,CAACC,OAAF,IAAajE,qBADhB;AAEJ4D,QAAAA,MAAM,EAAE;AAFJ,OAAD,CAAL;AAID;AACF,GAdD;;AAeA,QAAMM,cAAc,GAAG,MAAM;AAC3B,WAAOlC,QAAQ,CAACQ,GAAT,CAAa,CAAC2B,OAAD,EAAUZ,KAAV,kBAClB,QAAC,KAAD;AACE,MAAA,EAAE,EAAEY,OAAO,CAAC7C,EADd;AAGE,MAAA,cAAc,EAAC,eAHjB;AAIE,MAAA,SAAS,EAAE,KAJb;AAKE,MAAA,UAAU,EAAC,OALb;AAME,MAAA,OAAO,EAAC,GANV;AAOE,MAAA,YAAY,EAAC,IAPf;AAQE,MAAA,YAAY,EAAC,GARf;AASE,MAAA,KAAK,EAAE,QATT;AAAA,8BAWE,QAAC,IAAD;AAAM,QAAA,aAAa,EAAC,KAApB;AAA0B,QAAA,UAAU,EAAC,QAArC;AAAA,gCACE,QAAC,IAAD;AACE,UAAA,CAAC,EAAE,EADL;AAEE,UAAA,CAAC,EAAE,EAFL;AAGE,UAAA,KAAK,EAAE,QAHT;AAIE,UAAA,OAAO,EAAE,QAJX;AAKE,UAAA,OAAO,EAAE,MALX;AAAA,iCAOE,QAAC,KAAD;AACE,YAAA,SAAS,EAAC,SADZ;AAEE,YAAA,KAAK,EAAC,MAFR;AAGE,YAAA,MAAM,EAAC,MAHT;AAIE,YAAA,GAAG,EAAE6C,OAAO,CAACxB,KAJf;AAKE,YAAA,KAAK,EAAE;AALT;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,gBADF,eAgBE,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,QAAhB;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,UAAU,EAAC,GAAjB;AAAqB,YAAA,UAAU,EAAE,GAAjC;AAAA,sBACGwB,OAAO,CAACzB;AADX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAXF,eAiCE,QAAC,IAAD;AACE,QAAA,EAAE,EAAEnD,OADN;AAEE,QAAA,KAAK,EAAE,SAFT;AAGE,QAAA,CAAC,EAAE,CAHL;AAIE,QAAA,CAAC,EAAE,CAJL;AAKE,QAAA,OAAO,EAAE,MAAMkE,aAAa,CAACF,KAAD;AAL9B;AAAA;AAAA;AAAA;AAAA,cAjCF;AAAA,OAEOA,KAFP;AAAA;AAAA;AAAA;AAAA,YADK,CAAP;AA2CD,GA5CD;;AA6CA,QAAMa,WAAW,GAAG,MAAM;AACxB,QAAIxD,KAAK,CAACyD,GAAN,CAAUC,OAAd,EAAuB;AACrB,aAAOpE,cAAc,EAArB;AACD,KAFD,MAEO,IAAIU,KAAK,CAACyD,GAAN,CAAUE,OAAV,CAAkBC,KAAtB,EAA6B;AAClC,0BACE,QAAC,GAAD;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,QAAhB;AAAyB,UAAA,KAAK,EAAC,QAA/B;AAAA,kCACE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,GAAhB;AAAA,mCACE,QAAC,OAAD;AAAS,cAAA,EAAE,EAAC,IAAZ;AAAiB,cAAA,IAAI,EAAC,IAAtB;AAAA,wBACG5D,KAAK,CAACyD,GAAN,CAAUE,OAAV,CAAkBN;AADrB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAME;AAAA;AAAA;AAAA;AAAA,kBANF,eAOE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,kBAPF,eAQE;AAAA;AAAA;AAAA;AAAA,kBARF,eASE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,GAAhB;AAAA,mCACE,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAE,MAAMnB,YAAY,EAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAiBD,KAlBM,MAkBA;AAAA;;AACL,YAAM;AAAEX,QAAAA;AAAF,UAAWvB,KAAX,aAAWA,KAAX,qCAAWA,KAAK,CAAEyD,GAAlB,+CAAW,WAAYI,OAA7B;AACA,0BACE;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,OAAO,EAAE,CAAhB;AAAA,kCACE,QAAC,OAAD;AACE,YAAA,KAAK,EAAE,UADT;AAEE,YAAA,UAAU,EAAE,GAFd;AAGE,YAAA,QAAQ,EAAE;AAAEC,cAAAA,IAAI,EAAE,KAAR;AAAeC,cAAAA,EAAE,EAAE,KAAnB;AAA0BC,cAAAA,EAAE,EAAE;AAA9B,aAHZ;AAAA,sBAKGzC,IAAI,IAAIA,IAAI,CAACR,IAAb,GAAoBQ,IAAI,CAACR,IAAzB,GAAgC;AALnC;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE,QAAC,IAAD;AAAM,YAAA,KAAK,EAAE,UAAb;AAAyB,YAAA,QAAQ,EAAE;AAAE+C,cAAAA,IAAI,EAAE,IAAR;AAAcC,cAAAA,EAAE,EAAE;AAAlB,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAcE,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,EAAT;AAAA,iCACE,QAAC,MAAD,CAAQ,IAAR;AACE,YAAA,QAAQ,EAAE,MAAOX,CAAP,IAAa;AACrBA,cAAAA,CAAC,CAACa,cAAF;;AACA,kBAAI;AACF,oBAAIvD,EAAJ,EAAQ;AACN,wBAAMJ,UAAU,CAAC;AACfI,oBAAAA,EADe;AAEfK,oBAAAA,IAAI,EAAEF,SAFS;AAGfwB,oBAAAA,MAAM,EAAEnB,OAHO;AAIfE,oBAAAA,QAAQ,EAAEA,QAAQ,CAACQ,GAAT,CAAc2B,OAAD,IAAaA,OAAO,CAAC7C,EAAlC,CAJK,CAKf;AACF;;AANiB,mBAAD,CAAhB;AAQD,iBATD,MASO;AACL,wBAAMN,SAAS,CAAC;AACdW,oBAAAA,IAAI,EAAEF,SADQ;AAEdwB,oBAAAA,MAAM,EAAEnB,OAFM;AAGdE,oBAAAA,QAAQ,EAAEA,QAAQ,CAACQ,GAAT,CAAc2B,OAAD,IAAaA,OAAO,CAAC7C,EAAlC,CAHI,CAId;AACF;;AALgB,mBAAD,CAAf;;AAOA,sBAAI;AACF,0BAAMwD,cAAc,GAAG,MAAMzD,UAAU,CAAChB,IAAD,CAAvC;;AACA,wBAAIyE,cAAc,IAAIA,cAAc,CAACC,MAArC,EAA6C,CAC3C;AACD,qBAFD,MAEO;AACL,4BAAM3D,WAAW,CAACf,IAAD,CAAjB;AACD;;AACDwD,oBAAAA,MAAM,CAACC,OAAP,CAAeC,IAAf;AACD,mBARD,CAQE,OAAOC,CAAP,EAAU;AACVH,oBAAAA,MAAM,CAACC,OAAP,CAAeC,IAAf;AACD;AACF;;AACDrF,gBAAAA,KAAK,CAAC;AACJgE,kBAAAA,KAAK,EAAG,SAAQpB,EAAE,GAAG,SAAH,GAAe,SAAU,gBADvC;AAEJsC,kBAAAA,MAAM,EAAE;AAFJ,iBAAD,CAAL;AAID,eAlCD,CAkCE,OAAOI,CAAP,EAAU;AACVtF,gBAAAA,KAAK,CAAC;AACJgE,kBAAAA,KAAK,EAAEsB,CAAC,CAACC,OAAF,IAAajE,qBADhB;AAEJ4D,kBAAAA,MAAM,EAAE;AAFJ,iBAAD,CAAL;AAID;AACF,aA3CH;AAAA,eA4CMxD,KA5CN;AAAA,oCA8CE,QAAC,KAAD;AAAO,cAAA,OAAO,EAAE,CAAhB;AAAA,sCACE,QAAC,WAAD;AAAa,gBAAA,EAAE,EAAC,WAAhB;AAAA,wCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,KAAD;AACE,kBAAA,WAAW,EAAC,qBADd;AAEE,kBAAA,IAAI,EAAC,WAFP;AAGE,kBAAA,IAAI,EAAC,MAHP;AAIE,kBAAA,KAAK,EAAEqB,SAJT;AAKE,kBAAA,QAAQ,EAAGuC,CAAD,IAAOtC,YAAY,CAACsC,CAAC,CAACgB,MAAF,CAASC,KAAV,CAL/B;AAME,kBAAA,QAAQ;AANV;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAwBE,QAAC,WAAD;AAAA,wCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,WAAD;AAAA,6BACGnD,OAAO,CAACU,GAAR,CAAY,CAACc,MAAD,EAASC,KAAT,kBACX,QAAC,MAAD;AAEE,oBAAA,IAAI,EAAED,MAAM,CAAC4B,KAAP,IAAgB5B,MAAM,CAAC3B,IAF/B;AAGE,oBAAA,GAAG,EAAE2B,MAAM,CAAC6B,IAAP,IAAe7B,MAAM,CAAC8B,GAH7B;AAIE,oBAAA,IAAI,EAAC,IAJP,CAKE;AALF;AAME,oBAAA,QAAQ,EAAE,UANZ;AAOE,oBAAA,MAAM,EAAE,CAPV;AAQE,oBAAA,OAAO,EAAE;AACPC,sBAAAA,OAAO,EAAE,IADF;AAEPC,sBAAAA,KAAK,EAAE,MAFA;AAGPC,sBAAAA,MAAM,EAAE,MAHD;AAIPC,sBAAAA,OAAO,EAAE,MAJF;AAKPC,sBAAAA,SAAS,EAAE,cALJ;AAMPC,sBAAAA,UAAU,EAAE,iCANL;AAOPC,sBAAAA,QAAQ,EAAE,UAPH;AAQPC,sBAAAA,MAAM,EAAE,CAAC,CARF;AASPC,sBAAAA,GAAG,EAAE,CATE;AAUPC,sBAAAA,IAAI,EAAE;AAVC,qBARX;AAAA,2CAqBE,QAAC,WAAD;AACE,sBAAA,OAAO,EAAC,QADV;AAEE,sBAAA,EAAE,EAAC,SAFL;AAGE,sBAAA,OAAO,EAAE,MAAMzC,YAAY,CAACC,MAAD,EAASC,KAAT,CAH7B;AAAA,6CAKE,QAAC,IAAD;AACE,wBAAA,EAAE,EAAE9D,oBADN;AAEE,wBAAA,KAAK,EAAE,WAFT;AAGE,wBAAA,CAAC,EAAE,CAHL;AAIE,wBAAA,CAAC,EAAE;AAJL;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AArBF,qBACO,CAAC6D,MAAM,CAAC4B,KAAP,IAAgB5B,MAAM,CAAC3B,IAAxB,IAAgC4B,KADvC;AAAA;AAAA;AAAA;AAAA,0BADD,CADH,eAqCE,QAAC,MAAD;AACE,oBAAA,OAAO,EAAEhD,MADX;AAEE,oBAAA,IAAI,EAAC,IAFP;AAGE,oBAAA,EAAE,EAAE,UAHN;AAIE,oBAAA,MAAM,EAAE;AAAEwF,sBAAAA,EAAE,EAAE;AAAN,qBAJV;AAKE,oBAAA,MAAM,EAAC,SALT;AAME,oBAAA,IAAI,eAAE,QAAC,YAAD;AAAc,sBAAA,IAAI,EAAC,KAAnB;AAAyB,sBAAA,KAAK,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,4BANR;AAOE,oBAAA,OAAO,EAAE;AACPV,sBAAAA,OAAO,EAAE,IADF;AAEPC,sBAAAA,KAAK,EAAE,MAFA;AAGPC,sBAAAA,MAAM,EAAE,MAHD;AAIPC,sBAAAA,OAAO,EAAE,MAJF;AAKPC,sBAAAA,SAAS,EAAE,YALJ;AAMPC,sBAAAA,UAAU,EAAE,iCANL;AAOPC,sBAAAA,QAAQ,EAAE,UAPH;AAQPC,sBAAAA,MAAM,EAAE,CAAC,CARF;AASPC,sBAAAA,GAAG,EAAE,CATE;AAUPC,sBAAAA,IAAI,EAAE;AAVC;AAPX;AAAA;AAAA;AAAA;AAAA,0BArCF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,eA4DE,QAAC,MAAD;AAAQ,kBAAA,MAAM,EAAExF,MAAhB;AAAwB,kBAAA,OAAO,EAAE4B;AAAjC;AAAA;AAAA;AAAA;AAAA,wBA5DF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF,eAsFE;AAAA;AAAA;AAAA;AAAA,sBAtFF,eAuFE,QAAC,WAAD;AAAa,gBAAA,EAAE,EAAC,eAAhB;AAAA,wCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,KAAD;AAAO,kBAAA,OAAO,EAAE,CAAhB;AAAA,4BAAoBgC,cAAc;AAAlC;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE,QAAC,MAAD;AACE,kBAAA,UAAU,EAAE,SADd;AAEE,kBAAA,EAAE,EAAE,UAFN;AAGE,kBAAA,KAAK,EAAE,UAHT;AAIE,kBAAA,OAAO,EAAExD,oBAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,eAWE,QAAC,cAAD;AACE,kBAAA,WAAW,EAAE0B,oBADf;AAEE,kBAAA,QAAQ,EAAEzB,qBAFZ;AAGE,kBAAA,cAAc,MAHhB;AAIE,kBAAA,YAAY,EAAE,KAJhB;AAKE,kBAAA,YAAY,EAAC,SALf;AAME,kBAAA,IAAI,EAAEF,oBANR;AAOE,kBAAA,mBAAmB,EAAEuB,QAAQ,CAC1BQ,GADkB,CACb2B,OAAD,KAAc;AAAE7C,oBAAAA,EAAE,EAAE6C,OAAO,CAAC7C;AAAd,mBAAd,CADc,EAElBe,MAFkB,CAEXC,OAFW;AAPvB;AAAA;AAAA;AAAA;AAAA,wBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAvFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBA9CF,eA6JE,QAAC,WAAD;AAAa,cAAA,EAAE,EAAE,CAAjB;AAAoB,cAAA,KAAK,EAAC,MAA1B;AAAA,yBACGH,IAAI,IAAIA,IAAI,CAAC6D,QAAb,gBACC,QAAC,MAAD;AACE,gBAAA,SAAS,EAAEpF,KAAK,CAACqF,OAAN,CAAc3B,OAD3B;AAEE,gBAAA,OAAO,EAAE,MAAMZ,aAAa,CAACvB,IAAI,CAAC6D,QAAN,CAF9B;AAGE,gBAAA,WAAW,MAHb;AAIE,gBAAA,OAAO,EAAC,OAJV;AAKE,gBAAA,WAAW,EAAC,KALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,GAUG,IAXN,eAYE,QAAC,MAAD;AACE,gBAAA,SAAS,EACPpF,KAAK,CAACsF,IAAN,CAAW5B,OAAX,IACA1D,KAAK,CAACuF,KAAN,CAAY7B,OADZ,IAEAnD,OAAO,CAACkD,GAAR,CAAYC,OAFZ,IAGAnD,OAAO,CAAC+E,IAAR,CAAa5B,OALjB;AAOE,gBAAA,QAAQ,EACN1D,KAAK,CAACsF,IAAN,CAAW5B,OAAX,IACA1D,KAAK,CAACuF,KAAN,CAAY7B,OADZ,IAEAnD,OAAO,CAACkD,GAAR,CAAYC,OAFZ,IAGAnD,OAAO,CAAC+E,IAAR,CAAa5B,OAXjB;AAaE,gBAAA,WAAW,EAAG,GAAEhD,EAAE,GAAG,UAAH,GAAgB,QAAS,OAb7C;AAcE,gBAAA,IAAI,EAAC,QAdP;AAeE,gBAAA,UAAU,EAAE,SAfd;AAgBE,gBAAA,WAAW,MAhBb;AAiBE,gBAAA,CAAC,EAAE,MAjBL;AAkBE,gBAAA,UAAU,EAAC,gCAlBb;AAmBE,gBAAA,KAAK,EAAE,OAnBT;AAoBE,gBAAA,MAAM,EAAE;AACNoE,kBAAAA,UAAU,EAAE,gCADN;AAENU,kBAAAA,SAAS,EAAE;AAFL,iBApBV;AAAA,0BAyBI,GAAE9E,EAAE,GAAG,QAAH,GAAc,MAAO;AAzB7B;AAAA;AAAA;AAAA;AAAA,sBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7JF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAdF;AAAA,sBADF;AAyND;;AACD,WAAO,IAAP;AACD,GAlPD;;AAoPA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,GAAD;AAAK,MAAA,QAAQ,EAAE,UAAf;AAAA,8BACE,QAAC,SAAD;AACE,QAAA,EAAE,EAAEtD,UADN;AAEE,QAAA,IAAI,EAAE,KAFR;AAGE,QAAA,OAAO,EAAE;AAAE0G,UAAAA,IAAI,EAAE,CAAR;AAAWE,UAAAA,EAAE,EAAE;AAAf,SAHX;AAIE,QAAA,OAAO,EAAE;AAAEF,UAAAA,IAAI,EAAE,EAAR;AAAY2B,UAAAA,EAAE,EAAE;AAAhB,SAJX;AAKE,QAAA,EAAE,EAAE;AAAE3B,UAAAA,IAAI,EAAE,EAAR;AAAYC,UAAAA,EAAE,EAAE,EAAhB;AAAoB0B,UAAAA,EAAE,EAAE;AAAxB,SALN;AAAA,+BAOE,QAAC,KAAD;AACE,UAAA,EAAE,EAAE,SADN;AAEE,UAAA,OAAO,EAAE,IAFX;AAGE,UAAA,CAAC,EAAE;AAAE3B,YAAAA,IAAI,EAAE,CAAR;AAAWC,YAAAA,EAAE,EAAE,CAAf;AAAkBC,YAAAA,EAAE,EAAE;AAAtB,WAHL;AAIE,UAAA,OAAO,EAAE;AAAEF,YAAAA,IAAI,EAAE;AAAR,WAJX;AAKE,UAAA,IAAI,EAAC,KALP;AAME,UAAA,MAAM,EAAC,GANT;AAOE,UAAA,MAAM,EAAC,QAPT;AAQE,UAAA,KAAK,EAAC,MARR;AAAA,oBAUGN,WAAW;AAVd;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,cADF,eAqBE,QAAC,IAAD;AACE,QAAA,QAAQ,EAAE,UADZ;AAEE,QAAA,GAAG,EAAE,EAFP;AAGE,QAAA,IAAI,EAAE,CAAC,EAHT;AAIE,QAAA,KAAK,EAAE;AAAE/B,UAAAA,MAAM,EAAE;AAAV;AAJT;AAAA;AAAA;AAAA;AAAA,cArBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA,kBADF;AAiCD;;GAlaQlC,W;UAE6B3B,a,EAKhCA,a,EACUuB,a,EACAH,a,EACGG,a,EACCA,a,EACGA,a,EACFA,a,EACHF,e,EACIA,e,EACDA,e,EAECR,S,EACNV,Q,EACGW,W,EACChB,iB;;;KArBX6B,W;AAoaT,OAAO,MAAMmG,IAAI,GAAIlG,KAAD,IAAW;AAAA;;AAC7B,sBACE,QAAC,IAAD;AACE,IAAA,KAAK,EAAEnC,kBAAkB,CAAC;AAAEyG,MAAAA,IAAI,EAAE,MAAR;AAAgBE,MAAAA,EAAE,EAAE,MAApB;AAA4ByB,MAAAA,EAAE,EAAE;AAAhC,KAAD,CAD3B;AAEE,IAAA,MAAM,EAAEpI,kBAAkB,CAAC;AAAEyG,MAAAA,IAAI,EAAE,CAAC,CAAT;AAAYE,MAAAA,EAAE,EAAE,CAAC,CAAjB;AAAoByB,MAAAA,EAAE,EAAE;AAAxB,KAAD,CAF5B;AAGE,IAAA,MAAM,EAAC,OAHT;AAIE,IAAA,OAAO,EAAC,aAJV;AAKE,IAAA,IAAI,EAAC,MALP;AAME,IAAA,KAAK,EAAC,4BANR;AAAA,OAOMjG,KAPN;AAAA,4BASE;AAAQ,MAAA,EAAE,EAAC,IAAX;AAAgB,MAAA,EAAE,EAAC,IAAnB;AAAwB,MAAA,CAAC,EAAC,KAA1B;AAAgC,MAAA,IAAI,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA,YATF,eAUE;AAAQ,MAAA,EAAE,EAAC,KAAX;AAAiB,MAAA,EAAE,EAAC,KAApB;AAA0B,MAAA,CAAC,EAAC,KAA5B;AAAkC,MAAA,IAAI,EAAC;AAAvC;AAAA;AAAA;AAAA;AAAA,YAVF,eAWE;AAAQ,MAAA,EAAE,EAAC,KAAX;AAAiB,MAAA,CAAC,EAAC,KAAnB;AAAyB,MAAA,IAAI,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA,YAXF,eAYE;AAAQ,MAAA,EAAE,EAAC,MAAX;AAAkB,MAAA,EAAE,EAAC,OAArB;AAA6B,MAAA,CAAC,EAAC,OAA/B;AAAuC,MAAA,IAAI,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA,YAZF,eAaE;AAAQ,MAAA,EAAE,EAAC,OAAX;AAAmB,MAAA,EAAE,EAAC,OAAtB;AAA8B,MAAA,CAAC,EAAC,OAAhC;AAAwC,MAAA,IAAI,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA,YAbF,eAcE;AAAQ,MAAA,EAAE,EAAC,MAAX;AAAkB,MAAA,EAAE,EAAC,OAArB;AAA6B,MAAA,CAAC,EAAC,OAA/B;AAAuC,MAAA,IAAI,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA,YAdF,eAeE;AAAQ,MAAA,EAAE,EAAC,OAAX;AAAmB,MAAA,EAAE,EAAC,MAAtB;AAA6B,MAAA,CAAC,EAAC,OAA/B;AAAuC,MAAA,IAAI,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA,YAfF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD,CApBM;;IAAMkG,I;UAGArI,kB,EACCA,kB;;;MAJDqI,I;AAsBbnG,WAAW,CAACoG,YAAZ,GAA2B;AACzB3F,EAAAA,KAAK,EAAE;AACLe,IAAAA,IAAI,EAAE;AADD;AADkB,CAA3B;AAMA,eAAexB,WAAf","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport {\n  Box,\n  Flex,\n  Stack,\n  Heading,\n  Text,\n  Container,\n  Input,\n  Button,\n  SimpleGrid,\n  useBreakpointValue,\n  FormControl,\n  FormLabel,\n  Icon,\n  StackDivider,\n  useColorModeValue,\n  Image,\n  useDisclosure,\n  chakra,\n  toast,\n  useToast,\n  Avatar,\n  AvatarGroup,\n  SkeletonText,\n  SkeletonCircle,\n  Skeleton,\n  VStack,\n  Divider,\n  AvatarBadge,\n  ButtonGroup,\n} from \"@chakra-ui/react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { IoClose, IoAddOutline, IoCloseCircleOutline } from \"react-icons/io5\";\nimport { ResourcePicker } from \"@shopify/app-bridge-react\";\nimport NavBar from \"../../components/navbar\";\n\nimport useFilesStore from \"../../store/files\";\nimport useScriptsStore from \"../../store/scripts\";\n\nimport Upload from \"../../components/upload\";\nimport useLooksStore from \"../../store/looks\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport { ShopContext } from \"../../context\";\n\nconst renderSkeleton = () => {\n  return (\n    <Flex direction=\"column\" width=\"100%\">\n      <Skeleton width=\"100%\" height=\"40px\">\n        {\" \"}\n      </Skeleton>\n      <SkeletonText mt=\"4\" noOfLines={1} spacing=\"4\" />\n      <br />\n      <br />\n      <Box>\n        <SkeletonCircle size=\"20\" />\n        <SkeletonText mt=\"4\" noOfLines={4} spacing=\"4\" />\n      </Box>\n    </Flex>\n  );\n};\n\nfunction CreateLooks(props) {\n  const shop = useContext(ShopContext);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const {\n    isOpen: isResourcePickerOpen,\n    onOpen: onResourcePickerOpen,\n    onClose: onResourcePickerClose,\n  } = useDisclosure();\n  const looks = useLooksStore((state) => state.looks);\n  const files = useFilesStore((state) => state.files);\n  const getLooks = useLooksStore((state) => state.getLooks);\n  const postLooks = useLooksStore((state) => state.postLooks);\n  const destroyLooks = useLooksStore((state) => state.destroyLooks);\n  const patchLooks = useLooksStore((state) => state.patchLooks);\n  const scripts = useScriptsStore((state) => state.scripts);\n  const postScripts = useScriptsStore((state) => state.postScripts);\n  const getScripts = useScriptsStore((state) => state.getScripts);\n\n  const { id = \"\" } = useParams();\n  const toast = useToast();\n  const navigate = useNavigate();\n  const colorMode = useColorModeValue(\"gray.100\", \"gray.700\");\n  const [looksName, setLooksName] = useState(props.looks.name);\n  const [xrpMerchant, setXrpMerchant] = useState('');\n  const [uploads, setUploads] = useState(props.looks.files || []);\n  const [products, setProducts] = useState(props.looks.products || []);\n  const onUploadWidgetClose = (data = []) => {\n    setUploads([...uploads, ...data]);\n    onClose();\n  };\n\n  const onResourcePickerDone = (data = {}) => {\n    setProducts([\n      ...products.filter(Boolean),\n      ...data?.selection\n        ?.map((d) => {\n          return {\n            title: d.title,\n            image: (d.images[0] && d.images[0].originalSrc) || \"\",\n            id: d.id,\n          };\n        })\n        .filter(Boolean),\n    ]);\n    onResourcePickerClose();\n  };\n\n  const getLooskById = async () => {\n    if (id) {\n      const data = await getLooks({ id });\n      console.log(\"data is \", data);\n      if (data) {\n        setLooksName(data?.name);\n        setUploads([...uploads, ...data?.medias]);\n\n        setProducts([\n          ...products,\n          ...data?.products.map((p) => ({\n            id: p.admin_graphql_api_id,\n            title: p.title,\n            image: p.image.src,\n          })),\n        ]);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getLooskById();\n  }, []);\n\n  const removeUpload = (upload, index) => {\n    uploads.splice(index, 1);\n    setUploads([...uploads.filter(Boolean)]);\n  };\n\n  const removeProduct = (index) => {\n    products.splice(index, 1);\n    setProducts([...products.filter(Boolean)]);\n  };\n\n  const onDestroyLook = async (lookId) => {\n    try {\n      await destroyLooks(lookId);\n      toast({\n        title: `Look deleted!`,\n        status: \"success\",\n      });\n      window.history.back();\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: \"error\",\n      });\n    }\n  };\n  const renderProducts = () => {\n    return products.map((product, index) => (\n      <Stack\n        id={product.id}\n        key={index}\n        justifyContent=\"space-between\"\n        direction={\"row\"}\n        background=\"white\"\n        padding=\"3\"\n        borderRadius=\"lg\"\n        marginBottom=\"4\"\n        align={\"center\"}\n      >\n        <Flex flexDirection=\"row\" alignItems=\"center\">\n          <Flex\n            w={16}\n            h={16}\n            align={\"center\"}\n            justify={\"center\"}\n            rounded={\"full\"}\n          >\n            <Image\n              objectFit=\"contain\"\n              width=\"100%\"\n              height=\"100%\"\n              src={product.image}\n              color={\"yellow.500\"}\n            />\n          </Flex>\n          <Flex direction=\"column\">\n            <Text marginLeft=\"3\" fontWeight={600}>\n              {product.title}\n            </Text>\n          </Flex>\n        </Flex>\n        <Icon\n          as={IoClose}\n          color={\"red.500\"}\n          w={5}\n          h={5}\n          onClick={() => removeProduct(index)}\n        />\n      </Stack>\n    ));\n  };\n  const renderLooks = () => {\n    if (looks.get.loading) {\n      return renderSkeleton();\n    } else if (looks.get.failure.error) {\n      return (\n        <Box>\n          <Flex direction=\"column\" align=\"center\">\n            <VStack spacing=\"3\">\n              <Heading as=\"h1\" size=\"md\">\n                {looks.get.failure.message}\n              </Heading>\n            </VStack>\n            <br />\n            <Divider />\n            <br />\n            <VStack spacing=\"3\">\n              <Button onClick={() => getLooskById()}>Try Again</Button>\n            </VStack>\n          </Flex>\n        </Box>\n      );\n    } else {\n      const { data } = looks?.get?.success;\n      return (\n        <>\n          <Stack spacing={4}>\n            <Heading\n              color={\"gray.800\"}\n              lineHeight={1.1}\n              fontSize={{ base: \"2xl\", sm: \"3xl\", md: \"4xl\" }}\n            >\n              {data && data.name ? data.name : \"Create a look\"}\n            </Heading>\n            <Text color={\"gray.500\"} fontSize={{ base: \"sm\", sm: \"md\" }}>\n              Add a name for the look you create and link the products from your\n              store that can form this look.\n            </Text>\n          </Stack>\n          <Box mt={10}>\n            <chakra.form\n              onSubmit={async (e) => {\n                e.preventDefault();\n                try {\n                  if (id) {\n                    await patchLooks({\n                      id,\n                      name: looksName,\n                      medias: uploads,\n                      products: products.map((product) => product.id),\n                      // XRP Address\n                    //   xrpAddress: xrpMerchant,\n                    });\n                  } else {\n                    await postLooks({\n                      name: looksName,\n                      medias: uploads,\n                      products: products.map((product) => product.id),\n                      // XRP Address\n                    //   xrpAddress: xrpMerchant,\n                    });\n                    try {\n                      const scriptsOnStore = await getScripts(shop);\n                      if (scriptsOnStore && scriptsOnStore.length) {\n                        // already has a script tag, do nothing.\n                      } else {\n                        await postScripts(shop);\n                      }\n                      window.history.back();\n                    } catch (e) {\n                      window.history.back();\n                    }\n                  }\n                  toast({\n                    title: `Looks ${id ? \"updated\" : \"created\"} successfully!`,\n                    status: \"success\",\n                  });\n                } catch (e) {\n                  toast({\n                    title: e.message || INTERNAL_SERVER_ERROR,\n                    status: \"error\",\n                  });\n                }\n              }}\n              {...props}\n            >\n              <Stack spacing={4}>\n                <FormControl id=\"look-name\">\n                  <FormLabel>Look name</FormLabel>\n                  <Input\n                    placeholder=\"Winter Fashion Look\"\n                    name=\"look_name\"\n                    type=\"text\"\n                    value={looksName}\n                    onChange={(e) => setLooksName(e.target.value)}\n                    required\n                  />\n                </FormControl>\n                {/* To add XRP details */}\n                {/* <FormControl id=\"xrp-address\">\n                  <FormLabel>XRP Address</FormLabel>\n                  <Input\n                    placeholder=\"XRP Address\"\n                    name=\"xrp_address\"\n                    type=\"text\"\n                    value={xrpMerchant}\n                    onChange={(e) => setXrpMerchant(e.target.value)}\n\t\t\t\t\trequired\n                  />\n                </FormControl> */}\n                <FormControl>\n                  <FormLabel>Add medias to this look</FormLabel>\n                  <AvatarGroup>\n                    {uploads.map((upload, index) => (\n                      <Avatar\n                        key={(upload._name || upload.name) + index}\n                        name={upload._name || upload.name}\n                        src={upload._url || upload.url}\n                        size=\"lg\"\n                        // size={useBreakpointValue({ base: 'md', md: 'lg' })}\n                        position={\"relative\"}\n                        zIndex={2}\n                        _before={{\n                          content: '\"\"',\n                          width: \"full\",\n                          height: \"full\",\n                          rounded: \"full\",\n                          transform: \"scale(1.125)\",\n                          bgGradient: \"linear(to-bl, red.400,pink.400)\",\n                          position: \"absolute\",\n                          zIndex: -1,\n                          top: 0,\n                          left: 0,\n                        }}\n                      >\n                        <AvatarBadge\n                          boxSize=\"1.25em\"\n                          bg=\"red.500\"\n                          onClick={() => removeUpload(upload, index)}\n                        >\n                          <Icon\n                            as={IoCloseCircleOutline}\n                            color={\"white.500\"}\n                            w={5}\n                            h={5}\n                          />\n                        </AvatarBadge>\n                      </Avatar>\n                    ))}\n                    <Avatar\n                      onClick={onOpen}\n                      size=\"lg\"\n                      bg={\"pink.400\"}\n                      _hover={{ bg: \"pink.300\" }}\n                      cursor=\"pointer\"\n                      icon={<IoAddOutline size=\"2em\" color=\"white\" />}\n                      _before={{\n                        content: '\"\"',\n                        width: \"full\",\n                        height: \"full\",\n                        rounded: \"full\",\n                        transform: \"scale(1.2)\",\n                        bgGradient: \"linear(to-bl, red.400,pink.400)\",\n                        position: \"absolute\",\n                        zIndex: -1,\n                        top: 0,\n                        left: 0,\n                      }}\n                    ></Avatar>\n                  </AvatarGroup>\n                  <Upload isOpen={isOpen} onClose={onUploadWidgetClose} />\n                </FormControl>\n                <br />\n                <FormControl id=\"look-products\">\n                  <FormLabel>Add products for this look</FormLabel>\n                  <Stack spacing={4}>{renderProducts()}</Stack>\n                  <Button\n                    fontFamily={\"heading\"}\n                    bg={\"gray.200\"}\n                    color={\"gray.800\"}\n                    onClick={onResourcePickerOpen}\n                  >\n                    Link products +\n                  </Button>\n                  <ResourcePicker\n                    onSelection={onResourcePickerDone}\n                    onCancel={onResourcePickerClose}\n                    selectMultiple\n                    showVariants={false}\n                    resourceType=\"Product\"\n                    open={isResourcePickerOpen}\n                    initialSelectionIds={products\n                      .map((product) => ({ id: product.id }))\n                      .filter(Boolean)}\n                  />\n                </FormControl>\n              </Stack>\n              <ButtonGroup mt={8} width=\"full\">\n                {data && data.objectId ? (\n                  <Button\n                    isLoading={looks.destroy.loading}\n                    onClick={() => onDestroyLook(data.objectId)}\n                    isFullWidth\n                    variant=\"ghost\"\n                    colorScheme=\"red\"\n                  >\n                    Delete Look\n                  </Button>\n                ) : null}\n                <Button\n                  isLoading={\n                    looks.post.loading ||\n                    looks.patch.loading ||\n                    scripts.get.loading ||\n                    scripts.post.loading\n                  }\n                  disabled={\n                    looks.post.loading ||\n                    looks.patch.loading ||\n                    scripts.get.loading ||\n                    scripts.post.loading\n                  }\n                  loadingText={`${id ? \"Updating\" : \"Saving\"} look`}\n                  type=\"submit\"\n                  fontFamily={\"heading\"}\n                  isFullWidth\n                  w={\"full\"}\n                  bgGradient=\"linear(to-r, red.400,pink.400)\"\n                  color={\"white\"}\n                  _hover={{\n                    bgGradient: \"linear(to-r, red.400,pink.400)\",\n                    boxShadow: \"xl\",\n                  }}\n                >\n                  {`${id ? \"Update\" : \"Save\"} look`}\n                </Button>\n              </ButtonGroup>\n            </chakra.form>\n          </Box>\n        </>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <>\n      <NavBar />\n      <Box position={\"relative\"}>\n        <Container\n          as={SimpleGrid}\n          maxW={\"7xl\"}\n          columns={{ base: 1, md: 1 }}\n          spacing={{ base: 10, lg: 32 }}\n          py={{ base: 10, sm: 15, lg: 20 }}\n        >\n          <Stack\n            bg={\"gray.50\"}\n            rounded={\"xl\"}\n            p={{ base: 4, sm: 6, md: 8 }}\n            spacing={{ base: 8 }}\n            maxW=\"3xl\"\n            zIndex=\"9\"\n            margin=\"0 auto\"\n            width=\"100%\"\n          >\n            {renderLooks()}\n          </Stack>\n        </Container>\n        <Blur\n          position={\"absolute\"}\n          top={30}\n          left={-10}\n          style={{ filter: \"blur(70px)\" }}\n        />\n      </Box>\n    </>\n  );\n}\n\nexport const Blur = (props) => {\n  return (\n    <Icon\n      width={useBreakpointValue({ base: \"100%\", md: \"40vw\", lg: \"30vw\" })}\n      zIndex={useBreakpointValue({ base: -1, md: -1, lg: 0 })}\n      height=\"560px\"\n      viewBox=\"0 0 528 560\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <circle cx=\"71\" cy=\"61\" r=\"111\" fill=\"#F56565\" />\n      <circle cx=\"244\" cy=\"106\" r=\"139\" fill=\"#ED64A6\" />\n      <circle cy=\"291\" r=\"139\" fill=\"#ED64A6\" />\n      <circle cx=\"80.5\" cy=\"189.5\" r=\"101.5\" fill=\"#ED8936\" />\n      <circle cx=\"196.5\" cy=\"317.5\" r=\"101.5\" fill=\"#ECC94B\" />\n      <circle cx=\"70.5\" cy=\"458.5\" r=\"101.5\" fill=\"#48BB78\" />\n      <circle cx=\"426.5\" cy=\"-0.5\" r=\"101.5\" fill=\"#4299E1\" />\n    </Icon>\n  );\n};\n\nCreateLooks.defaultProps = {\n  looks: {\n    name: \"\",\n  },\n};\n\nexport default CreateLooks;\n"]},"metadata":{},"sourceType":"module"}