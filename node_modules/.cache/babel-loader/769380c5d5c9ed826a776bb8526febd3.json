{"ast":null,"code":"import create from 'zustand';\nimport produce from 'immer';\nimport axios from 'axios';\nimport { INTERNAL_SERVER_ERROR } from '../../constants/strings';\nconst INITIAL_CURRENCY_EXCHANGE_SATAE = {\n  get: {\n    loading: false,\n    success: {\n      ok: false,\n      data: []\n    },\n    failure: {\n      error: false,\n      message: \"\"\n    }\n  }\n};\nconst useCurrencyExchangeStore = create(set => ({\n  currencyExchangeState: INITIAL_CURRENCY_EXCHANGE_SATAE,\n  getCurrencyExchangeSate: async () => {\n    set(produce(state => ({ ...state,\n      currencyExchangeState: { ...state.currencyExchangeState,\n        get: { ...INITIAL_CURRENCY_EXCHANGE_SATAE.get,\n          loading: true\n        }\n      }\n    })));\n\n    try {\n      const response = await axios.get('https://api.coingecko.com/api/v3/simple/price?ids=usd&vs_currencies=xrp');\n      set(produce(state => {\n        var _response$data$usd;\n\n        return { ...state,\n          currencyExchangeState: { ...state.currencyExchangeState,\n            get: { ...INITIAL_CURRENCY_EXCHANGE_SATAE.get,\n              success: {\n                ok: true,\n                data: (_response$data$usd = response.data.usd) === null || _response$data$usd === void 0 ? void 0 : _response$data$usd.tofixed(2)\n              }\n            }\n          }\n        };\n      }));\n      return response;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}));\nexport default useCurrencyExchangeStore;","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/meta-soft-xrp/xrp-shopify-coupon-client/src/store/currency-exchage/index.js"],"names":["create","produce","axios","INTERNAL_SERVER_ERROR","INITIAL_CURRENCY_EXCHANGE_SATAE","get","loading","success","ok","data","failure","error","message","useCurrencyExchangeStore","set","currencyExchangeState","getCurrencyExchangeSate","state","response","usd","tofixed","e","console","log"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,SAAnB;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AAEA,MAAMC,+BAA+B,GAAG;AACpCC,EAAAA,GAAG,EAAC;AACAC,IAAAA,OAAO,EAAE,KADT;AAEJC,IAAAA,OAAO,EAAE;AACPC,MAAAA,EAAE,EAAE,KADG;AAEPC,MAAAA,IAAI,EAAE;AAFC,KAFL;AAMJC,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAE,KADA;AAEPC,MAAAA,OAAO,EAAE;AAFF;AANL;AADgC,CAAxC;AAcA,MAAMC,wBAAwB,GAAGb,MAAM,CAAEc,GAAD,KAAU;AAC9CC,EAAAA,qBAAqB,EAAEX,+BADuB;AAE9CY,EAAAA,uBAAuB,EAAE,YAAY;AACjCF,IAAAA,GAAG,CACCb,OAAO,CAAEgB,KAAD,KAAY,EAChB,GAAGA,KADa;AAEhBF,MAAAA,qBAAqB,EAAE,EACnB,GAAGE,KAAK,CAACF,qBADU;AAEnBV,QAAAA,GAAG,EAAE,EACD,GAAGD,+BAA+B,CAACC,GADlC;AAEDC,UAAAA,OAAO,EAAE;AAFR;AAFc;AAFP,KAAZ,CAAD,CADR,CAAH;;AAaA,QAAG;AACC,YAAMY,QAAQ,GAAG,MAAMhB,KAAK,CAACG,GAAN,CAAU,yEAAV,CAAvB;AAEAS,MAAAA,GAAG,CACCb,OAAO,CAAEgB,KAAD;AAAA;;AAAA,eAAY,EAChB,GAAGA,KADa;AAEhBF,UAAAA,qBAAqB,EAAE,EACnB,GAAGE,KAAK,CAACF,qBADU;AAEnBV,YAAAA,GAAG,EAAE,EACD,GAAGD,+BAA+B,CAACC,GADlC;AAEDE,cAAAA,OAAO,EAAE;AACLC,gBAAAA,EAAE,EAAE,IADC;AAELC,gBAAAA,IAAI,wBAAES,QAAQ,CAACT,IAAT,CAAcU,GAAhB,uDAAE,mBAAmBC,OAAnB,CAA2B,CAA3B;AAFD;AAFR;AAFc;AAFP,SAAZ;AAAA,OAAD,CADR,CAAH;AAeA,aAAOF,QAAP;AACH,KAnBD,CAmBE,OAAOG,CAAP,EAAS;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ;AAtC6C,CAAV,CAAD,CAAvC;AAyCA,eAAeR,wBAAf","sourcesContent":["import create from 'zustand';\nimport produce from 'immer';\nimport axios from 'axios';\nimport { INTERNAL_SERVER_ERROR } from '../../constants/strings';\n\nconst INITIAL_CURRENCY_EXCHANGE_SATAE = {\n    get:{\n        loading: false,\n    success: {\n      ok: false,\n      data: [],\n    },\n    failure: {\n      error: false,\n      message: \"\",\n    },\n    }\n}\n\nconst useCurrencyExchangeStore = create((set) => ({\n    currencyExchangeState: INITIAL_CURRENCY_EXCHANGE_SATAE,\n    getCurrencyExchangeSate: async () => {\n        set(\n            produce((state) => ({\n                ...state,\n                currencyExchangeState: {\n                    ...state.currencyExchangeState,\n                    get: {\n                        ...INITIAL_CURRENCY_EXCHANGE_SATAE.get,\n                        loading: true,\n                    }\n                }\n            }))\n        )\n\n        try{ \n            const response = await axios.get('https://api.coingecko.com/api/v3/simple/price?ids=usd&vs_currencies=xrp')\n            \n            set(\n                produce((state) => ({\n                    ...state,\n                    currencyExchangeState: {\n                        ...state.currencyExchangeState,\n                        get: {\n                            ...INITIAL_CURRENCY_EXCHANGE_SATAE.get,\n                            success: {\n                                ok: true,\n                                data: response.data.usd?.tofixed(2),\n                            }\n                        }\n                    }\n                }))\n            )\n            return response;\n        } catch (e){\n            console.log(e);\n        }\n    }\n}))\n\nexport default useCurrencyExchangeStore"]},"metadata":{},"sourceType":"module"}