{"ast":null,"code":"var _jsxFileName = \"/Users/jithendra/Desktop/Work/meta-soft-xrp/xrp-shopify-coupon-client/src/routes/look/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from \"react\";\nimport { Box, Flex, Stack, Heading, Text, Container, Input, Button, SimpleGrid, useBreakpointValue, FormControl, FormLabel, Icon, StackDivider, useColorModeValue, Image, useDisclosure, chakra, toast, useToast, Avatar, AvatarGroup, SkeletonText, SkeletonCircle, Skeleton, VStack, Divider, AvatarBadge, ButtonGroup } from '@chakra-ui/react';\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { IoClose, IoAddOutline, IoCloseCircleOutline } from 'react-icons/io5';\nimport { ResourcePicker } from '@shopify/app-bridge-react';\nimport NavBar from \"../../components/navbar\";\nimport useFilesStore from \"../../store/files\";\nimport useScriptsStore from \"../../store/scripts\";\nimport Upload from \"../../components/upload\";\nimport useLooksStore from \"../../store/looks\";\nimport { INTERNAL_SERVER_ERROR } from '../../constants/strings';\nimport { ShopContext } from \"../../context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst renderSkeleton = () => {\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    direction: \"column\",\n    width: \"100%\",\n    children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n      width: \"100%\",\n      height: \"40px\",\n      children: \" \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(SkeletonText, {\n      mt: \"4\",\n      noOfLines: 1,\n      spacing: \"4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(SkeletonCircle, {\n        size: \"20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(SkeletonText, {\n        mt: \"4\",\n        noOfLines: 4,\n        spacing: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 3\n  }, this);\n};\n\nfunction CreateLooks(props) {\n  _s();\n\n  const shop = useContext(ShopContext);\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const {\n    isOpen: isResourcePickerOpen,\n    onOpen: onResourcePickerOpen,\n    onClose: onResourcePickerClose\n  } = useDisclosure();\n  const looks = useLooksStore(state => state.looks);\n  const files = useFilesStore(state => state.files);\n  const getLooks = useLooksStore(state => state.getLooks);\n  const postLooks = useLooksStore(state => state.postLooks);\n  const destroyLooks = useLooksStore(state => state.destroyLooks);\n  const patchLooks = useLooksStore(state => state.patchLooks);\n  const scripts = useScriptsStore(state => state.scripts);\n  const postScripts = useScriptsStore(state => state.postScripts);\n  const getScripts = useScriptsStore(state => state.getScripts);\n  const {\n    id = ''\n  } = useParams();\n  const toast = useToast();\n  const navigate = useNavigate();\n  const colorMode = useColorModeValue('gray.100', 'gray.700');\n  const [looksName, setLooksName] = useState(props.looks.name);\n  const [uploads, setUploads] = useState(props.looks.files || []);\n  const [products, setProducts] = useState(props.looks.products || []);\n\n  const onUploadWidgetClose = function () {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    setUploads([...uploads, ...data]);\n    onClose();\n  };\n\n  const onResourcePickerDone = function () {\n    var _data$selection;\n\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    setProducts([...products.filter(Boolean), ...(data === null || data === void 0 ? void 0 : (_data$selection = data.selection) === null || _data$selection === void 0 ? void 0 : _data$selection.map(d => {\n      return {\n        title: d.title,\n        image: d.images[0] && d.images[0].originalSrc || '',\n        id: d.id\n      };\n    }).filter(Boolean))]);\n    onResourcePickerClose();\n  };\n\n  const getLooskById = async () => {\n    if (id) {\n      const data = await getLooks({\n        id\n      });\n      console.log(\"data is \", data);\n\n      if (data) {\n        setLooksName(data === null || data === void 0 ? void 0 : data.name);\n        setUploads([...uploads, ...(data === null || data === void 0 ? void 0 : data.medias)]);\n        setProducts([...products, ...(data === null || data === void 0 ? void 0 : data.products.map(p => ({\n          id: p.admin_graphql_api_id,\n          title: p.title,\n          image: p.image.src\n        })))]);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getLooskById();\n  }, []);\n\n  const removeUpload = (upload, index) => {\n    uploads.splice(index, 1);\n    setUploads([...uploads.filter(Boolean)]);\n  };\n\n  const removeProduct = index => {\n    products.splice(index, 1);\n    setProducts([...products.filter(Boolean)]);\n  };\n\n  const onDestroyLook = async lookId => {\n    try {\n      await destroyLooks(lookId);\n      toast({\n        title: `Look deleted!`,\n        status: 'success'\n      });\n      window.history.back();\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: 'error'\n      });\n    }\n  };\n\n  const renderProducts = () => {\n    return products.map((product, index) => /*#__PURE__*/_jsxDEV(Stack, {\n      id: product.id,\n      justifyContent: \"space-between\",\n      direction: 'row',\n      background: \"white\",\n      padding: \"3\",\n      borderRadius: \"lg\",\n      marginBottom: \"4\",\n      align: 'center',\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          w: 16,\n          h: 16,\n          align: 'center',\n          justify: 'center',\n          rounded: 'full',\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            objectFit: \"contain\",\n            width: \"100%\",\n            height: \"100%\",\n            src: product.image,\n            color: 'yellow.500'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Flex, {\n          direction: \"column\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            marginLeft: \"3\",\n            fontWeight: 600,\n            children: product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Icon, {\n        as: IoClose,\n        color: 'red.500',\n        w: 5,\n        h: 5,\n        onClick: () => removeProduct(index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 5\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 4\n    }, this));\n  };\n\n  const renderLooks = () => {\n    if (looks.get.loading) {\n      return renderSkeleton();\n    } else if (looks.get.failure.error) {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(Flex, {\n          direction: \"column\",\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(VStack, {\n            spacing: \"3\",\n            children: /*#__PURE__*/_jsxDEV(Heading, {\n              as: \"h1\",\n              size: \"md\",\n              children: looks.get.failure.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(VStack, {\n            spacing: \"3\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => getLooskById(),\n              children: \"Try Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 5\n      }, this);\n    } else {\n      var _looks$get;\n\n      const {\n        data\n      } = looks === null || looks === void 0 ? void 0 : (_looks$get = looks.get) === null || _looks$get === void 0 ? void 0 : _looks$get.success;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 4,\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            color: 'gray.800',\n            lineHeight: 1.1,\n            fontSize: {\n              base: '2xl',\n              sm: '3xl',\n              md: '4xl'\n            },\n            children: data && data.name ? data.name : 'Create a look'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            color: 'gray.500',\n            fontSize: {\n              base: 'sm',\n              sm: 'md'\n            },\n            children: \"Add a name for the look you create and link the products from your store that can form this look.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 10,\n          children: /*#__PURE__*/_jsxDEV(chakra.form, {\n            onSubmit: async e => {\n              e.preventDefault();\n\n              try {\n                if (id) {\n                  await patchLooks({\n                    id,\n                    name: looksName,\n                    medias: uploads,\n                    products: products.map(product => product.id)\n                  });\n                } else {\n                  await postLooks({\n                    name: looksName,\n                    medias: uploads,\n                    products: products.map(product => product.id)\n                  });\n\n                  try {\n                    const scriptsOnStore = await getScripts(shop);\n\n                    if (scriptsOnStore && scriptsOnStore.length) {// already has a script tag, do nothing.\n                    } else {\n                      await postScripts(shop);\n                    }\n\n                    window.history.back();\n                  } catch (e) {\n                    window.history.back();\n                  }\n                }\n\n                toast({\n                  title: `Looks ${id ? 'updated' : 'created'} successfully!`,\n                  status: 'success'\n                });\n              } catch (e) {\n                toast({\n                  title: e.message || INTERNAL_SERVER_ERROR,\n                  status: 'error'\n                });\n              }\n            },\n            ...props,\n            children: [/*#__PURE__*/_jsxDEV(Stack, {\n              spacing: 4,\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"look-name\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Look name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"Winter Fashion Look\",\n                  name: \"look_name\",\n                  type: \"text\",\n                  value: looksName,\n                  onChange: e => setLooksName(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Add medias to this look\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(AvatarGroup, {\n                  children: [uploads.map((upload, index) => /*#__PURE__*/_jsxDEV(Avatar, {\n                    name: upload._name || upload.name,\n                    src: upload._url || upload.url,\n                    size: \"lg\" // size={useBreakpointValue({ base: 'md', md: 'lg' })}\n                    ,\n                    position: 'relative',\n                    zIndex: 2,\n                    _before: {\n                      content: '\"\"',\n                      width: 'full',\n                      height: 'full',\n                      rounded: 'full',\n                      transform: 'scale(1.125)',\n                      bgGradient: 'linear(to-bl, red.400,pink.400)',\n                      position: 'absolute',\n                      zIndex: -1,\n                      top: 0,\n                      left: 0\n                    },\n                    children: /*#__PURE__*/_jsxDEV(AvatarBadge, {\n                      boxSize: \"1.25em\",\n                      bg: \"red.500\",\n                      onClick: () => removeUpload(upload, index),\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        as: IoCloseCircleOutline,\n                        color: 'white.500',\n                        w: 5,\n                        h: 5\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 12\n                    }, this)\n                  }, (upload._name || upload.name) + index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 11\n                  }, this)), /*#__PURE__*/_jsxDEV(Avatar, {\n                    onClick: onOpen,\n                    size: \"lg\",\n                    bg: 'pink.400',\n                    _hover: {\n                      bg: 'pink.300'\n                    },\n                    cursor: \"pointer\",\n                    icon: /*#__PURE__*/_jsxDEV(IoAddOutline, {\n                      size: \"2em\",\n                      color: \"white\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 17\n                    }, this),\n                    _before: {\n                      content: '\"\"',\n                      width: 'full',\n                      height: 'full',\n                      rounded: 'full',\n                      transform: 'scale(1.2)',\n                      bgGradient: 'linear(to-bl, red.400,pink.400)',\n                      position: 'absolute',\n                      zIndex: -1,\n                      top: 0,\n                      left: 0\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 10\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(Upload, {\n                  isOpen: isOpen,\n                  onClose: onUploadWidgetClose\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"look-products\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  children: \"Add products for this look\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                  spacing: 4,\n                  children: renderProducts()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  fontFamily: 'heading',\n                  bg: 'gray.200',\n                  color: 'gray.800',\n                  onClick: onResourcePickerOpen,\n                  children: \"Link products +\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(ResourcePicker, {\n                  onSelection: onResourcePickerDone,\n                  onCancel: onResourcePickerClose,\n                  selectMultiple: true,\n                  showVariants: false,\n                  resourceType: \"Product\",\n                  open: isResourcePickerOpen,\n                  initialSelectionIds: products.map(product => ({\n                    id: product.id\n                  })).filter(Boolean)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 8\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n              mt: 8,\n              width: \"full\",\n              children: [data && data.objectId ? /*#__PURE__*/_jsxDEV(Button, {\n                isLoading: looks.destroy.loading,\n                onClick: () => onDestroyLook(data.objectId),\n                isFullWidth: true,\n                variant: \"ghost\",\n                colorScheme: \"red\",\n                children: \"Delete Look\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 10\n              }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n                isLoading: looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading,\n                disabled: looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading,\n                loadingText: `${id ? 'Updating' : 'Saving'} look`,\n                type: \"submit\",\n                fontFamily: 'heading',\n                isFullWidth: true,\n                w: 'full',\n                bgGradient: \"linear(to-r, red.400,pink.400)\",\n                color: 'white',\n                _hover: {\n                  bgGradient: 'linear(to-r, red.400,pink.400)',\n                  boxShadow: 'xl'\n                },\n                children: `${id ? 'Update' : 'Save'} look`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 8\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true);\n    }\n\n    return null;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      position: 'relative',\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        as: SimpleGrid,\n        maxW: '7xl',\n        columns: {\n          base: 1,\n          md: 1\n        },\n        spacing: {\n          base: 10,\n          lg: 32\n        },\n        py: {\n          base: 10,\n          sm: 15,\n          lg: 20\n        },\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          bg: 'gray.50',\n          rounded: 'xl',\n          p: {\n            base: 4,\n            sm: 6,\n            md: 8\n          },\n          spacing: {\n            base: 8\n          },\n          maxW: \"3xl\",\n          zIndex: \"9\",\n          margin: \"0 auto\",\n          width: \"100%\",\n          children: renderLooks()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Blur, {\n        position: 'absolute',\n        top: 30,\n        left: -10,\n        style: {\n          filter: 'blur(70px)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CreateLooks, \"RbO9mzLX1K+MUUCYKJDnUDR12i0=\", false, function () {\n  return [useDisclosure, useDisclosure, useLooksStore, useFilesStore, useLooksStore, useLooksStore, useLooksStore, useLooksStore, useScriptsStore, useScriptsStore, useScriptsStore, useParams, useToast, useNavigate, useColorModeValue];\n});\n\n_c = CreateLooks;\nexport const Blur = props => {\n  _s2();\n\n  return /*#__PURE__*/_jsxDEV(Icon, {\n    width: useBreakpointValue({\n      base: '100%',\n      md: '40vw',\n      lg: '30vw'\n    }),\n    zIndex: useBreakpointValue({\n      base: -1,\n      md: -1,\n      lg: 0\n    }),\n    height: \"560px\",\n    viewBox: \"0 0 528 560\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ...props,\n    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"71\",\n      cy: \"61\",\n      r: \"111\",\n      fill: \"#F56565\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"244\",\n      cy: \"106\",\n      r: \"139\",\n      fill: \"#ED64A6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cy: \"291\",\n      r: \"139\",\n      fill: \"#ED64A6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"80.5\",\n      cy: \"189.5\",\n      r: \"101.5\",\n      fill: \"#ED8936\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"196.5\",\n      cy: \"317.5\",\n      r: \"101.5\",\n      fill: \"#ECC94B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"70.5\",\n      cy: \"458.5\",\n      r: \"101.5\",\n      fill: \"#48BB78\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"426.5\",\n      cy: \"-0.5\",\n      r: \"101.5\",\n      fill: \"#4299E1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 436,\n    columnNumber: 4\n  }, this);\n};\n\n_s2(Blur, \"0FymyQKbFpo4xay/lSY81x3XnSk=\", false, function () {\n  return [useBreakpointValue, useBreakpointValue];\n});\n\n_c2 = Blur;\nCreateLooks.defaultProps = {\n  looks: {\n    name: ''\n  }\n};\nexport default CreateLooks;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CreateLooks\");\n$RefreshReg$(_c2, \"Blur\");","map":{"version":3,"sources":["/Users/jithendra/Desktop/Work/meta-soft-xrp/xrp-shopify-coupon-client/src/routes/look/index.js"],"names":["useEffect","useState","useContext","Box","Flex","Stack","Heading","Text","Container","Input","Button","SimpleGrid","useBreakpointValue","FormControl","FormLabel","Icon","StackDivider","useColorModeValue","Image","useDisclosure","chakra","toast","useToast","Avatar","AvatarGroup","SkeletonText","SkeletonCircle","Skeleton","VStack","Divider","AvatarBadge","ButtonGroup","useParams","useNavigate","IoClose","IoAddOutline","IoCloseCircleOutline","ResourcePicker","NavBar","useFilesStore","useScriptsStore","Upload","useLooksStore","INTERNAL_SERVER_ERROR","ShopContext","renderSkeleton","CreateLooks","props","shop","isOpen","onOpen","onClose","isResourcePickerOpen","onResourcePickerOpen","onResourcePickerClose","looks","state","files","getLooks","postLooks","destroyLooks","patchLooks","scripts","postScripts","getScripts","id","navigate","colorMode","looksName","setLooksName","name","uploads","setUploads","products","setProducts","onUploadWidgetClose","data","onResourcePickerDone","filter","Boolean","selection","map","d","title","image","images","originalSrc","getLooskById","console","log","medias","p","admin_graphql_api_id","src","removeUpload","upload","index","splice","removeProduct","onDestroyLook","lookId","status","window","history","back","e","message","renderProducts","product","renderLooks","get","loading","failure","error","success","base","sm","md","preventDefault","scriptsOnStore","length","target","value","_name","_url","url","content","width","height","rounded","transform","bgGradient","position","zIndex","top","left","bg","objectId","destroy","post","patch","boxShadow","lg","Blur","defaultProps"],"mappings":"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","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport {\n\t\tBox,\n\t\tFlex,\n\t\tStack,\n\t\tHeading,\n\t\tText,\n\t\tContainer,\n\t\tInput,\n\t\tButton,\n\t\tSimpleGrid,\n\t\tuseBreakpointValue,\n\t\tFormControl,\n\t\tFormLabel,\n\t\tIcon,\n\t\tStackDivider,\n\t\tuseColorModeValue,\n\t\tImage,\n\t\tuseDisclosure,\n\t\tchakra,\n\t\ttoast,\n\t\tuseToast,\n\t\tAvatar,\n\t\tAvatarGroup,\n\t\tSkeletonText,\n\t\tSkeletonCircle,\n\t\tSkeleton,\n\t\tVStack,\n\t\tDivider,\n\t\tAvatarBadge,\n\t\tButtonGroup\n} from '@chakra-ui/react';\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport {\n\t\tIoClose,\n\t\tIoAddOutline,\n\t\tIoCloseCircleOutline,\n\t} from 'react-icons/io5';\nimport {ResourcePicker} from '@shopify/app-bridge-react';\nimport NavBar from \"../../components/navbar\";\n\nimport useFilesStore from \"../../store/files\"; \nimport useScriptsStore from \"../../store/scripts\";\n\nimport Upload from \"../../components/upload\";\nimport useLooksStore from \"../../store/looks\"\nimport { INTERNAL_SERVER_ERROR } from '../../constants/strings';\nimport { ShopContext } from \"../../context\";\n\nconst renderSkeleton = () => {\n\treturn (\n\t\t<Flex direction=\"column\" width=\"100%\">\n\t\t\t<Skeleton width=\"100%\" height=\"40px\"> </Skeleton>\n\t\t\t<SkeletonText mt='4' noOfLines={1} spacing='4' />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<Box >\n\t\t\t\t<SkeletonCircle size='20' />\n\t\t\t\t<SkeletonText mt='4' noOfLines={4} spacing='4' />\n\t\t\t</Box>\n\t\t</Flex>\n\t)\n}\n\n\t\nfunction CreateLooks(props) {\n\tconst shop = useContext(ShopContext);\n\tconst { isOpen, onOpen, onClose } = useDisclosure()\n\tconst { isOpen: isResourcePickerOpen, onOpen: onResourcePickerOpen, onClose: onResourcePickerClose } = useDisclosure()\n\tconst looks = useLooksStore((state) => state.looks);\n\tconst files = useFilesStore((state) => state.files);\n\tconst getLooks = useLooksStore((state) => state.getLooks);\n\tconst postLooks = useLooksStore((state) => state.postLooks);\n\tconst destroyLooks = useLooksStore((state) => state.destroyLooks);\n\tconst patchLooks = useLooksStore((state) => state.patchLooks);\n\tconst scripts = useScriptsStore((state) => state.scripts);\n\tconst postScripts = useScriptsStore((state) => state.postScripts);\n\tconst getScripts = useScriptsStore((state) => state.getScripts);\n\n\tconst { id = '' } = useParams();\n\tconst toast = useToast();\n\tconst navigate = useNavigate()\n\tconst colorMode = useColorModeValue('gray.100', 'gray.700');\n\tconst [looksName, setLooksName] = useState(\n\t\tprops.looks.name\n\t);\n\tconst [uploads, setUploads] = useState(\n\t\tprops.looks.files || []\n\t);\n\tconst [products, setProducts] = useState(\n\t\tprops.looks.products || []\n\t);\n\tconst onUploadWidgetClose = (data = []) => {\n\t\tsetUploads([\n\t\t\t...uploads,\n\t\t\t...data\n\t\t])\n\t\tonClose();\n\t}\n\n\tconst onResourcePickerDone = (data = {}) => {\n\t\tsetProducts([\n\t\t\t...products.filter(Boolean),\n\t\t\t...data?.selection?.map(d => {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: d.title,\n\t\t\t\t\timage: d.images[0] && d.images[0].originalSrc || '',\n\t\t\t\t\tid: d.id,\n\t\t\t\t}\n\t\t\t}).filter(Boolean),\n\t\t])\n\t\tonResourcePickerClose()\n\t}\n\n\tconst getLooskById = async () => {\n\t\tif (id) {\n\t\t\tconst data = await getLooks({ id });\n\t\t\tconsole.log(\"data is \", data)\n\t\t\tif (data) {\n\t\t\t\tsetLooksName(data?.name)\n\t\t\t\tsetUploads([\n\t\t\t\t\t...uploads,\n\t\t\t\t\t...data?.medias, \n\t\t\t\t])\n\t\t\t\t\n\t\t\t\tsetProducts([\n\t\t\t\t\t...products,\n\t\t\t\t\t...data?.products.map(p => ({\n\t\t\t\t\t\tid: p.admin_graphql_api_id,\n\t\t\t\t\t\ttitle: p.title,\n\t\t\t\t\t\timage: p.image.src\n\t\t\t\t\t}))\n\t\t\t\t])\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tgetLooskById()\n\t}, [])\n\n\tconst removeUpload = (upload, index) => {\n\t\tuploads.splice(index, 1)\n\t\tsetUploads([...uploads.filter(Boolean)])\n\t}\n\n\tconst removeProduct = (index) => {\n\t\tproducts.splice(index, 1);\n\t\tsetProducts([...products.filter(Boolean)])\n\t}\n\n\tconst onDestroyLook = async (lookId) => {\n\t\ttry {\n\t\t\tawait destroyLooks(lookId);\n\t\t\ttoast({\n\t\t\t\ttitle: `Look deleted!`,\n\t\t\t\tstatus: 'success'\n\t\t\t});\n\t\t\twindow.history.back();\n\t\t} catch (e) {\n\t\t\ttoast({\n\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\tstatus: 'error'\n\t\t\t})\n\t\t}\n\t}\n\tconst renderProducts = () => {\n\t\treturn products.map((product, index) => (\n\t\t\t<Stack id={product.id} key={index} justifyContent=\"space-between\"  direction={'row'} background=\"white\" padding=\"3\" borderRadius=\"lg\" marginBottom=\"4\" align={'center'}>\n\t\t\t\t<Flex flexDirection=\"row\" alignItems=\"center\">\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tw={16}\n\t\t\t\t\t\th={16}\n\t\t\t\t\t\talign={'center'}\n\t\t\t\t\t\tjustify={'center'}\n\t\t\t\t\t\trounded={'full'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Image objectFit=\"contain\" width=\"100%\" height=\"100%\" src={product.image} color={'yellow.500'} />\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Flex direction=\"column\">\n\t\t\t\t\t\t<Text marginLeft=\"3\" fontWeight={600}>{product.title}</Text>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Flex>\n\t\t\t\t<Icon as={IoClose} color={'red.500'} w={5} h={5} onClick={() => removeProduct(index)} />\n\t\t\t</Stack>\n\t\t));\n\t}\n\tconst renderLooks = () => {\n\t\tif (looks.get.loading) {\n\t\t\treturn renderSkeleton();\n\t\t} else if (looks.get.failure.error) {\n\t\t\treturn (\n\t\t\t\t<Box>\n\t\t\t\t\t<Flex direction=\"column\" align=\"center\">\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Heading as=\"h1\" size=\"md\">{looks.get.failure.message}</Heading>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Button onClick={() => getLooskById()}>Try Again</Button>\t\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Box>\n\t\t\t)\n\t\t} else {\n\t\t\tconst { data } = looks?.get?.success;\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Stack spacing={4}>\n\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\tcolor={'gray.800'}\n\t\t\t\t\t\t\tlineHeight={1.1}\n\t\t\t\t\t\t\tfontSize={{ base: '2xl', sm: '3xl', md: '4xl' }}>\n\t\t\t\t\t\t\t{data && data.name ? data.name : 'Create a look'}\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t<Text color={'gray.500'} fontSize={{ base: 'sm', sm: 'md' }}>\n\t\t\t\t\t\t\tAdd a name for the look you create and link the products from your store that can form this look.\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<Box mt={10}>\n\t\t\t\t\t\t<chakra.form\n\t\t\t\t\t\t\tonSubmit={async (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\t\tawait patchLooks({\n\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\tname: looksName,\n\t\t\t\t\t\t\t\t\t\t\tmedias: uploads,\n\t\t\t\t\t\t\t\t\t\t\tproducts: products.map(product => product.id),\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tawait postLooks({\n\t\t\t\t\t\t\t\t\t\t\tname: looksName,\n\t\t\t\t\t\t\t\t\t\t\tmedias: uploads,\n\t\t\t\t\t\t\t\t\t\t\tproducts: products.map(product => product.id),\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tconst scriptsOnStore = await getScripts(shop);\n\t\t\t\t\t\t\t\t\t\t\tif (scriptsOnStore && scriptsOnStore.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t// already has a script tag, do nothing.\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tawait postScripts(shop)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\twindow.history.back()\n\t\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t\twindow.history.back()\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\t\t\t\ttitle: `Looks ${id ? 'updated' : 'created'} successfully!`,\n\t\t\t\t\t\t\t\t\t\tstatus: 'success'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\t\tstatus: 'error'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<Stack spacing={4}>\n\t\t\t\t\t\t\t<FormControl id='look-name'>\n\t\t\t\t\t\t\t\t<FormLabel>Look name</FormLabel>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Winter Fashion Look\"\n\t\t\t\t\t\t\t\t\tname=\"look_name\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={looksName}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setLooksName(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t{/* Adding XRP address to receive */}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<FormLabel>Add medias to this look</FormLabel>\n\t\t\t\t\t\t\t\t<AvatarGroup>\n\t\t\t\t\t\t\t\t\t{uploads.map((upload, index) => (\n\t\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\t\tkey={(upload._name || upload.name) + index}\n\t\t\t\t\t\t\t\t\t\t\tname={upload._name || upload.name}\n\t\t\t\t\t\t\t\t\t\t\tsrc={upload._url || upload.url}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\t\t// size={useBreakpointValue({ base: 'md', md: 'lg' })}\n\t\t\t\t\t\t\t\t\t\t\tposition={'relative'}\n\t\t\t\t\t\t\t\t\t\t\tzIndex={2}\n\t\t\t\t\t\t\t\t\t\t\t_before={{\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '\"\"',\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\theight: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\ttransform: 'scale(1.125)',\n\t\t\t\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-bl, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\tzIndex: -1,\n\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<AvatarBadge  boxSize='1.25em' bg='red.500' onClick={() => removeUpload(upload, index)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon as={IoCloseCircleOutline} color={'white.500'} w={5} h={5} />\n\t\t\t\t\t\t\t\t\t\t\t</AvatarBadge>\n\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tonClick={onOpen}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tbg={'pink.400'}\n\t\t\t\t\t\t\t\t\t\t_hover={{ bg: 'pink.300' }}\n\t\t\t\t\t\t\t\t\t\tcursor=\"pointer\"\n\t\t\t\t\t\t\t\t\t\ticon={<IoAddOutline size=\"2em\" color=\"white\" />}\n\t\t\t\t\t\t\t\t\t\t_before={{\n\t\t\t\t\t\t\t\t\t\t\tcontent: '\"\"',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'full',\n\t\t\t\t\t\t\t\t\t\t\theight: 'full',\n\t\t\t\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\t\t\t\ttransform: 'scale(1.2)',\n\t\t\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-bl, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\tzIndex: -1,\n\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t</AvatarGroup>\n\t\t\t\t\t\t\t\t<Upload isOpen={isOpen} onClose={onUploadWidgetClose} />\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<FormControl id='look-products'>\n\t\t\t\t\t\t\t\t\t<FormLabel>Add products for this look</FormLabel>\n\t\t\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\t\t\tspacing={4}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{renderProducts()}\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t<Button fontFamily={'heading'} bg={'gray.200'} color={'gray.800'} onClick={onResourcePickerOpen}>\n\t\t\t\t\t\t\t\t\t\t\tLink products +\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<ResourcePicker\n\t\t\t\t\t\t\t\t\t\tonSelection={onResourcePickerDone}\n\t\t\t\t\t\t\t\t\t\tonCancel={onResourcePickerClose}\n\t\t\t\t\t\t\t\t\t\tselectMultiple\n\t\t\t\t\t\t\t\t\t\tshowVariants={false}\n\t\t\t\t\t\t\t\t\t\tresourceType=\"Product\"\n\t\t\t\t\t\t\t\t\t\topen={isResourcePickerOpen}\n\t\t\t\t\t\t\t\t\t\tinitialSelectionIds={products.map(product => ({ id: product.id })).filter(Boolean)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<ButtonGroup mt={8} width=\"full\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata && data.objectId ? (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tisLoading={looks.destroy.loading}\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDestroyLook(data.objectId)}\n\t\t\t\t\t\t\t\t\t\tisFullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tcolorScheme=\"red\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDelete Look\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisLoading={looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading}\n\t\t\t\t\t\t\t\tdisabled={looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading}\n\t\t\t\t\t\t\t\tloadingText={`${id ? 'Updating' : 'Saving'} look`}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfontFamily={'heading'}\n\t\t\t\t\t\t\t\tisFullWidth\n\t\t\t\t\t\t\t\tw={'full'}\n\t\t\t\t\t\t\t\tbgGradient=\"linear(to-r, red.400,pink.400)\"\n\t\t\t\t\t\t\t\tcolor={'white'}\n\t\t\t\t\t\t\t\t_hover={{\n\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-r, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\tboxShadow: 'xl',\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{`${id ? 'Update' : 'Save'} look`}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</chakra.form>\n\t\t\t\t\t</Box>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t\t\n\t}\n\n\treturn (\n\t\t<>\n\t\t<NavBar />\n\t\t<Box position={'relative'}>\n\t\t\t<Container\n\t\t\t\tas={SimpleGrid}\n\t\t\t\tmaxW={'7xl'}\n\t\t\t\tcolumns={{ base: 1, md: 1 }}\n\t\t\t\tspacing={{ base: 10, lg: 32 }}\n\t\t\t\tpy={{ base: 10, sm: 15, lg: 20 }}\n\t\t\t>\n\t\t\t\t\n\t\t\t\t<Stack\n\t\t\t\t\tbg={'gray.50'}\n\t\t\t\t\trounded={'xl'}\n\t\t\t\t\tp={{ base: 4, sm: 6, md: 8 }}\n\t\t\t\t\tspacing={{ base: 8 }}\n\t\t\t\t\tmaxW=\"3xl\"\n\t\t\t\t\tzIndex=\"9\"\n\t\t\t\t\tmargin=\"0 auto\"\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t>\n\t\t\t\t\t{renderLooks()}\n\t\t\t\t</Stack>\n\t\t\t</Container>\n\t\t\t<Blur\n\t\t\t\tposition={'absolute'}\n\t\t\t\ttop={30}\n\t\t\t\tleft={-10}\n\t\t\t\tstyle={{ filter: 'blur(70px)' }}\n\t\t\t/>\n\t\t</Box>\n\t\t</>\n\t);\n}\n\t\n\texport const Blur = (props) => {\n\t\treturn (\n\t\t\t<Icon\n\t\t\t\twidth={useBreakpointValue({ base: '100%', md: '40vw', lg: '30vw' })}\n\t\t\t\tzIndex={useBreakpointValue({ base: -1, md: -1, lg: 0 })}\n\t\t\t\theight=\"560px\"\n\t\t\t\tviewBox=\"0 0 528 560\"\n\t\t\t\tfill=\"none\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t{...props}>\n\t\t\t\t<circle cx=\"71\" cy=\"61\" r=\"111\" fill=\"#F56565\" />\n\t\t\t\t<circle cx=\"244\" cy=\"106\" r=\"139\" fill=\"#ED64A6\" />\n\t\t\t\t<circle cy=\"291\" r=\"139\" fill=\"#ED64A6\" />\n\t\t\t\t<circle cx=\"80.5\" cy=\"189.5\" r=\"101.5\" fill=\"#ED8936\" />\n\t\t\t\t<circle cx=\"196.5\" cy=\"317.5\" r=\"101.5\" fill=\"#ECC94B\" />\n\t\t\t\t<circle cx=\"70.5\" cy=\"458.5\" r=\"101.5\" fill=\"#48BB78\" />\n\t\t\t\t<circle cx=\"426.5\" cy=\"-0.5\" r=\"101.5\" fill=\"#4299E1\" />\n\t\t\t</Icon>\n\t\t);\n\t};\n\n\n\tCreateLooks.defaultProps = {\n\t\tlooks: {\n\t\t\tname: ''\n\t\t}\n\t}\n\n\texport default CreateLooks;"]},"metadata":{},"sourceType":"module"}